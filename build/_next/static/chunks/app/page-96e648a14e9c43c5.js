(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{2883:function(e,a,t){Promise.resolve().then(t.bind(t,2594))},2594:function(e,a,t){"use strict";let n,r,i,o,l,s,d,c,p,m,h,u,f,w,x,g,y,v;t.r(a),t.d(a,{default:function(){return et}});var b=t(8038),M=t(719),k=t(7486);t(2488);var C=()=>(0,b.jsx)("div",{id:"overlay-container",className:"content-width",children:(0,b.jsxs)("header",{id:"header-container",children:[(0,b.jsx)("svg",{id:"header-logo-svg",viewBox:"0 0 56 61",xmlns:"http://www.w3.org/2000/svg",height:"60",width:"56",children:(0,b.jsxs)("defs",{children:[(0,b.jsx)("path",{id:"logo-path",d:"M3 14 24 2C28 0 28 0 32 2L53 14C56 16 56 17 56 19L56 43C56 46 55 47 51 49L32 59C28 61 28 61 24 59L5 49C1 47 0 46 0 43L0 19C0 17 0 16 3 14M28 4 5 17 28 28 51 17 28 4M53 20 30 31 30 56 53 44 53 20M40 42 33 35C33 35 32 34 33 33 34 32 35 33 36 34L36 34 43 41C44 42 44 42 43 43L35 51C35 51 34 52 33 51 32 50 33 49 33 49L40 42M16 42 23 35C23 35 24 34 23 33 22 32 21 33 20 34L13 41C12 42 12 42 13 43L21 51C21 51 22 52 23 51 24 50 23 49 23 49L16 42"}),(0,b.jsx)("clipPath",{id:"logo-clip-path",children:(0,b.jsx)("use",{fill:"white",href:"#logo-path",transform:"scale(0.87)"})})]})}),(0,b.jsx)("div",{id:"logo-dark-background",children:(0,b.jsx)("div",{id:"logo-white-background"})}),(0,b.jsx)("div",{id:"logo-click-container"}),(0,b.jsx)("div",{id:"sound-button-scale-container",children:(0,b.jsx)("div",{id:"sound-button",className:"overlay-button gray-hover",children:(0,b.jsx)("svg",{id:"header-sound-svg",viewBox:"0 0 18 9",xmlns:"http://www.w3.org/2000/svg",children:(0,b.jsxs)("g",{fill:"white",children:[(0,b.jsx)("path",{id:"sound-body-path",d:"M 0 4 C 0 4 0 3 1 3 L 2 3 L 3 2 C 5 0 5 1 5 2 L 5 7 C 5 8 5 9 3 7 L 2 6 L 1 6 C 0 6 0 5 0 5 L 0 4"}),(0,b.jsx)("path",{id:"sound-volume-0-path",d:"M 7 4 C 8 4 8 5 7 5 C 6 5 6 6 7 6 C 9 6 9 3 7 3 C 6 3 6 4 7 4"}),(0,b.jsx)("path",{id:"sound-volume-1-path",d:"M 7 2 C 10 2 10 7 7 7 C 6 7 6 8 7 8 C 11 8 11 1 7 1 C 6 1 6 2 7 2"})]})})})}),(0,b.jsx)("div",{id:"menu-button-scale-container",children:(0,b.jsxs)("div",{id:"menu-button",className:"overlay-button orange-hover flex flex-col justify-center",children:[(0,b.jsx)("div",{id:"menu-button-bar-0",className:"menu-button-bar"}),(0,b.jsx)("div",{id:"menu-button-bar-1",className:"menu-button-bar"}),(0,b.jsx)("div",{id:"menu-button-bar-2",className:"menu-button-bar"})]})})]})});t(1344);var L=()=>{let[e,a]=(0,M.useState)({x:0,y:0});return(0,M.useEffect)(()=>{let e=e=>{let{clientX:t,clientY:n}=e;a({x:t,y:n})};return window.addEventListener("mousemove",e),()=>{window.removeEventListener("mousemove",e)}},[]),(0,b.jsxs)("div",{id:"hover-icon",className:"hover-icon",style:{transform:"translate(-50%, -50%) translate(".concat(e.x,"px, ").concat(e.y,"px)")},children:[(0,b.jsx)("svg",{id:"hover-content",viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg",height:"30",width:"30",fill:"white",children:(0,b.jsx)("path",{id:"arrow-path",d:"M502.6 278.6l-128 128c-12.51 12.51-32.76 12.49-45.25 0c-12.5-12.5-12.5-32.75 0-45.25L402.8 288H32C14.31 288 0 273.7 0 255.1S14.31 224 32 224h370.8l-73.38-73.38c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0l128 128C515.1 245.9 515.1 266.1 502.6 278.6z"})}),(0,b.jsx)("div",{className:"hover-spread"}),(0,b.jsx)("div",{className:"hover-spread"})]})};t(5636);var T=()=>(0,b.jsx)("div",{id:"landing-page",className:"content-container landing-slow-transition",children:(0,b.jsx)("section",{id:"landing-page-section",className:"content-width slide-out-left-transition",children:(0,b.jsxs)("svg",{id:"landing-content-svg",viewBox:"0 0 500 310",xmlns:"http://www.w3.org/2000/svg",children:[(0,b.jsx)("text",{className:"landing-headline",y:"60",x:"5",children:"Hi, my"}),(0,b.jsx)("text",{className:"landing-headline",y:"135",x:"5",children:"name is L."}),(0,b.jsx)("text",{className:"landing-subheading",x:"10",y:"185",children:"I love creating beautiful user experiences."}),(0,b.jsx)("foreignObject",{x:"8",y:"250",height:"100",width:"300",requiredExtensions:"http://www.w3.org/1999/xhtml",children:(0,b.jsx)("div",{id:"landing-cta-button",className:"big-button orange-hover",children:"Get in touch"})})]})})}),S=(e,a)=>{let t=new e.Scene,n=new e.Fog("#002C6A",10,17);return n.near=a.portrait?18:10,n.far=a.portrait?23:17,n.color=new e.Color(a.portrait?"#001945":"#002C6A"),t.fog=n,{scene:t,onOrientationChange:()=>{n.near=a.portrait?18:10,n.far=a.portrait?23:17,n.color=new e.Color(a.portrait?"#001945":"#002C6A")}}};class A{on(e,a){let t=this;return void 0===e||""===e?console.warn("wrong names"):void 0===a?console.warn("wrong callback"):this.resolveNames(e).forEach(function(e){let n=t.resolveName(e);t.callbacks[n.namespace]instanceof Object||(t.callbacks[n.namespace]={}),t.callbacks[n.namespace][n.value]instanceof Array||(t.callbacks[n.namespace][n.value]=[]),t.callbacks[n.namespace][n.value].push(a)}),this}off(e){let a=this;return void 0===e||""===e?(console.warn("wrong name"),!1):(this.resolveNames(e).forEach(function(e){let t=a.resolveName(e);if("base"!==t.namespace&&""===t.value)delete a.callbacks[t.namespace];else if("base"===t.namespace)for(let e in a.callbacks)a.callbacks[e]instanceof Object&&a.callbacks[e][t.value]instanceof Array&&(delete a.callbacks[e][t.value],0===Object.keys(a.callbacks[e]).length&&delete a.callbacks[e]);else a.callbacks[t.namespace]instanceof Object&&a.callbacks[t.namespace][t.value]instanceof Array&&(delete a.callbacks[t.namespace][t.value],0===Object.keys(a.callbacks[t.namespace]).length&&delete a.callbacks[t.namespace])}),!0)}trigger(e,a){if(void 0===e||""===e.trim())return console.warn("Invalid event name"),null;let t=null,{value:n,namespace:r}=this.resolveName(e),i=Array.isArray(a)?a:[];for(let e of"base"===r?Object.keys(this.callbacks):[r]){var o;let a=null===(o=this.callbacks[e])||void 0===o?void 0:o[n];Array.isArray(a)&&a.forEach(e=>{let a=e.apply(this,i);null===t&&(t=a)})}return t}resolveNames(e){return e.replace(/[^a-zA-Z0-9 ,/.]/g,"").split(/[,/]+/).filter(e=>""!==e.trim())}resolveName(e){let a={original:"",value:"",namespace:"base"},t=e.split(".");return a.original=e,a.value=t[0],t.length>1&&""!==t[1]&&(a.namespace=t[1]),a}constructor(){this.callbacks={},this.callbacks.base={}}}var j=t(9465);let z={x:0,y:0},F={intensity:.4,speed:3,enabled:!0},O=[{name:"landing-page",position:{x:5.8,y:0,z:8.3},lookAt:{x:-2.7,y:-3.7,z:0},rotation:{x:0,y:0,z:0}},{name:"landing-page-portrait",position:{x:10.5,y:2.5,z:14},lookAt:{x:.4,y:-.1,z:0},rotation:{x:0,y:0,z:0}},{name:"landing-menu",position:{x:-7,y:0,z:7.5},lookAt:{x:1,y:-3.7,z:0},rotation:{x:0,y:0,z:0}},{name:"scroll-start",position:{x:6,y:-14.75,z:8.5},lookAt:{x:-2.7,y:-17.45,z:0},rotation:{x:0,y:0,z:0}},{name:"scroll-start-portrait",position:{x:10.5,y:-12.5,z:14},lookAt:{x:.4,y:-19,z:0},rotation:{x:0,y:0,z:0}},{name:"lab-menu",position:{x:-6,y:-14,z:9.3},lookAt:{x:.5,y:-17.7,z:0},rotation:{x:0,y:0,z:0}},{name:"contact-menu",position:{x:3.5,y:-25.9,z:8.8},lookAt:{x:2,y:-29.6,z:0},rotation:{x:0,y:0,z:0}}],P=[];var R=(e,a,t,n,r)=>{let i=new e.PerspectiveCamera(38,t.width/t.height,.1,100),o=new e.Group;o.add(i),a.add(o),window.addEventListener("mousemove",e=>{z.x=e.clientX/t.width-.5,z.y=e.clientY/t.height-.5});let l=()=>{let e=z.x*F.intensity,a=-z.y*F.intensity,t=n.delta/1e3,r=(e-o.position.x)*F.speed*t,i=(a-o.position.y)*F.speed*t;Math.abs(r)>.05&&(o.position.x+=r),Math.abs(i)>.05&&(o.position.y+=i)};O.forEach(e=>{i.position.set(e.position.x,e.position.y,e.position.z),i.lookAt(e.lookAt.x,e.lookAt.y,e.lookAt.z),e.rotation.x=i.rotation.x,e.rotation.y=i.rotation.y,e.rotation.z=i.rotation.z});let s=()=>{P.forEach(e=>e.kill())};return new A().on("portrait",s),new A().on("landscape",s),{camera:i,cameraResize:()=>{i.aspect=t.width/t.height,i.updateProjectionMatrix()},cameraUpdate:()=>{r&&r.update(),!t.touch&&F.enabled&&l()},waypoints:O,moveToWaypoint:function(e){let a=!(arguments.length>1)||void 0===arguments[1]||arguments[1],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.8,n=O.find(a=>a.name===e);n&&(a?(j.p8.to(i.position,{x:n.position.x,y:n.position.y,z:n.position.z,duration:t,ease:Power1.easeInOut}),j.p8.to(i.position,{x:n.rotation.x,y:n.rotation.y,z:n.rotation.z,duration:t,ease:Power1.easeInOut})):(i.position.set(n.position.x,n.position.y,n.position.z),i.rotation.set(n.rotation.x,n.rotation.y,n.rotation.z)))}}},N=(e,a,t,n)=>{let r=new e.WebGLRenderer({antialias:!0});return r.outputColorSpace=e.SRGBColorSpace,r.setClearColor("#F5EFE6"),r.setPixelRatio(Math.min(n.pixelRatio,2)),r.setSize(n.width,n.height),{renderer:r,rendererUpdate:()=>{r.render(a,t)}}};let B=[{name:"roomModel",type:"gltfModel",path:"models/room/model.glb"},{name:"roomShadowModel",type:"gltfModel",path:"models/room/shadow-model.glb"},{name:"bakedRoomTexture",type:"texture",path:"models/room/baked.jpg"},{name:"bakedShadowRoomTexture",type:"texture",path:"models/room/shadow-baked.jpg"},{name:"tone0Texture",type:"texture",path:"textures/sprites/tone-0.png"},{name:"tone1Texture",type:"texture",path:"textures/sprites/tone-1.png"},{name:"tone2Texture",type:"texture",path:"textures/sprites/tone-2.png"},{name:"heartTexture",type:"texture",path:"textures/sprites/heart.png"},{name:"characterModel",type:"gltfModel",path:"models/character/model.glb"},{name:"shirtMatcap",type:"texture",path:"textures/matcaps/shirt.jpg"},{name:"skinMatcap",type:"texture",path:"textures/matcaps/skin.jpg"},{name:"pantsMatcap",type:"texture",path:"textures/matcaps/pants.jpg"},{name:"whiteMatcap",type:"texture",path:"textures/matcaps/white.jpg"},{name:"bakedCharacterHeadTexture",type:"texture",path:"models/character/head-baked.jpg"},{name:"characterDefaultFace",type:"texture",path:"models/character/faces/default.png"},{name:"characterBlink0Face",type:"texture",path:"models/character/faces/blink-0.png"},{name:"characterBlink1Face",type:"texture",path:"models/character/faces/blink-1.png"},{name:"characterSmile0Face",type:"texture",path:"models/character/faces/smile/0.png"},{name:"characterSmile1Face",type:"texture",path:"models/character/faces/smile/1.png"},{name:"characterSmile2Face",type:"texture",path:"models/character/faces/smile/2.png"},{name:"characterScaredFace",type:"texture",path:"models/character/faces/scared.png"},{name:"characterSleepyFace",type:"texture",path:"models/character/faces/sleepy.png"},{name:"characterContact1Face",type:"texture",path:"models/character/faces/contact/1.png"},{name:"characterContact2Face",type:"texture",path:"models/character/faces/contact/2.png"},{name:"desktop0",type:"texture",path:"models/room/desktops/0.png"},{name:"desktop1",type:"texture",path:"models/room/desktops/1.png"},{name:"newMessageSprite",type:"texture",path:"textures/sprites/new-message.png"},{name:"desktop1Notification",type:"texture",path:"models/room/desktops/1-notification.png"},{name:"labModel",type:"gltfModel",path:"models/lab/model.glb"},{name:"labShadowModel",type:"gltfModel",path:"models/lab/shadow-model.glb"},{name:"bakedShadowLabTexture",type:"texture",path:"models/lab/shadow-baked.jpg"},{name:"bakedLabTexture",type:"texture",path:"models/lab/baked.jpg"},{name:"labScreenGraph",type:"texture",path:"models/lab/screen-graph.jpg"},{name:"labScreenOffline",type:"texture",path:"models/lab/screen-offline.jpg"},{name:"bubbleSprite",type:"texture",path:"textures/sprites/bubble.png"},{name:"bubblePopSprite",type:"texture",path:"textures/sprites/bubble-pop.png"},{name:"contactSceneModel",type:"gltfModel",path:"models/contact/model.glb"},{name:"bakedContactTexture",type:"texture",path:"models/contact/baked.jpg"},{name:"contactShadowModel",type:"gltfModel",path:"models/contact/shadow-model.glb"},{name:"bakedShadowContactTexture",type:"texture",path:"models/contact/shadow-baked.jpg"},{name:"davidImage",type:"texture",path:"images/david.png"}],E={topLeft:{value:"#000e2e",instance:new k.Color("#000e2e")},topRight:{value:"#002757",instance:new k.Color("#002757")},bottomLeft:{value:"#004db3",instance:new k.Color("#004db3")},bottomRight:{value:"#009dff",instance:new k.Color("#009dff")}};var I=(e,a)=>{let t=new e.PlaneGeometry(2,3.5,1,1),n=new e.ShaderMaterial({uniforms:{uOffset:{value:-2.75}},vertexColors:!0,depthWrite:!1,vertexShader:"\nvarying vec3 vColor;\n\nuniform float uOffset;\n\nvoid main()\n{\n    gl_Position = vec4(position.x, position.y + uOffset, position.z, 1.0);\n\n    vColor = color;\n}",fragmentShader:"varying vec3 vColor;\n\nvoid main()\n{\n    gl_FragColor = vec4(vColor, 1.0);\n}"}),r=new e.Mesh(t,n);return r.frustumCulled=!1,a.add(r),(()=>{E.topLeft.instance.set(E.topLeft.value),E.topRight.instance.set(E.topRight.value),E.bottomLeft.instance.set(E.bottomLeft.value),E.bottomRight.instance.set(E.bottomRight.value);let a=new Float32Array(12);a[0]=E.topLeft.instance.r,a[1]=E.topLeft.instance.g,a[2]=E.topLeft.instance.b,a[3]=E.topRight.instance.r,a[4]=E.topRight.instance.g,a[5]=E.topRight.instance.b,a[6]=E.bottomLeft.instance.r,a[7]=E.bottomLeft.instance.g,a[8]=E.bottomLeft.instance.b,a[9]=E.bottomRight.instance.r,a[10]=E.bottomRight.instance.g,a[11]=E.bottomRight.instance.b,t.setAttribute("color",new e.BufferAttribute(a,3))})(),{}},D=()=>{let e={width:window.innerWidth,height:window.innerHeight,pixelRatio:Math.min(window.devicePixelRatio,2),touch:!1,portrait:!1};return(()=>{let a="ontouchstart"in window||navigator.maxTouchPoints>0;a!==e.touch&&(e.touch=a,setTimeout(()=>{new A().trigger(e.touch?"touch":"no-touch")}))})(),(()=>{let a=window.innerWidth/window.innerHeight<=1.2;a!==e.portrait&&(e.portrait=a,setTimeout(()=>{new A().trigger(e.portrait?"portrait":"landscape")}))})(),{sizes:e,getAbsoluteHeight:e=>{let a=window.getComputedStyle(e),t=parseFloat(a.marginTop)+parseFloat(a.marginBottom);return Math.ceil(e.offsetHeight+t)},getTopMargin:e=>Math.ceil(parseFloat(window.getComputedStyle(e).marginTop))}},_=()=>{let e={start:0,current:0,elapsed:0,delta:16,hiddenDelta:0},a=()=>{let t=Date.now();e.delta=t-e.current,e.current=t,e.elapsed=e.current-e.start,window.requestAnimationFrame(()=>{a()})};return window.requestAnimationFrame(()=>{a()}),{timeData:e,Timetick:a}},G=e=>{let{sizes:a}=D(),{timeData:t}=_(),{scene:n}=S(e,a),{camera:r,cameraResize:i}=R(e,n,a,t);r.position.set(0,6,10);let{renderer:o,rendererUpdate:l}=N(e,n,r,a),s=()=>{l(),requestAnimationFrame(s)};return{renderer:o,render:s,scene:n,camera:r,onResize:()=>{i(),o.setSize(a.width,a.height)}}},H=t(8979);let W=async(e,a,t)=>{let n=(await a.loadAsync(t.roomShadowModel)).scene;if(!n)return;let r=new e.TextureLoader().load(t.bakedShadowRoomTexture);r.colorSpace=e.SRGBColorSpace,r.flipY=!1;let i=new e.ShaderMaterial({transparent:!0,uniforms:{alphaMask:{value:r},uColor:{value:new e.Color("#c4a37e")},uOpacity:{value:1}},vertexShader:"\nvarying vec2 vUv;\n\nvoid main()\n{\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\n    vUv = uv;\n}",fragmentShader:"\nuniform sampler2D alphaMask;\nuniform vec3 uColor;\nuniform float uOpacity;\n\nvarying vec2 vUv;\n\nvoid main()\n{\n    float alpha = texture2D(alphaMask, vUv).r;\n\n    alpha = (1.0 - alpha) * uOpacity;\n\n    gl_FragColor = vec4(uColor, alpha);\n}"});return n.traverse(a=>{"shadowCatcher"===a.name&&a instanceof e.Mesh&&(a.material=i)}),{roomShadowModel:n,material:i}};var U=(e,a,t)=>{let n,r,i;let o=n=>{(i=n.clone()).material=new e.MeshBasicMaterial({map:new e.TextureLoader().load(t.desktop1Notification),transparent:!0,fog:!1,opacity:0}),i.position.x+=.01,a.add(i)};return(()=>{r=a.children.find(e=>"desktop-plane-1"===e.name);let n=new e.TextureLoader().load(t.desktop1);n.colorSpace=e.SRGBColorSpace;let i=new e.MeshBasicMaterial({map:n,fog:!1});r instanceof e.Mesh&&(r.material=i,r.scale.x=1.01,o(r))})(),(()=>{n=a.children.find(e=>"desktop-plane-0"===e.name);let r=new e.TextureLoader().load(t.desktop0);r.colorSpace=e.SRGBColorSpace;let i=new e.MeshBasicMaterial({map:r,fog:!1});n instanceof e.Mesh&&(n.material=i)})(),{desktop0:n,desktop1:r,notification:i,scrollDesktop0:()=>{j.ZP.to(new e.TextureLoader().load(t.desktop0).offset,{y:-.5*Math.random()+.25,duration:1})}}},Z=(e,a)=>{let t=a.children.find(e=>"mouse"===e.name);return e.add(t),t.position.x+=.15,t.position.z+=.07,t.idleStartPosition={x:t.position.x,z:t.position.z},{moveToIdleStartPositon:()=>{t.idleStartPosition&&(t.position.x=t.idleStartPosition.x,t.position.z=t.idleStartPosition.z)},updateMouseSync:()=>{}}},q=(e,a,t,n)=>{let r=new e.SpriteMaterial({map:new e.TextureLoader().load(t.newMessageSprite),alphaTest:.1,opacity:0,fog:!1}),i=new e.Sprite(r);return a.add(i),i.position.set(-1.75,3.5,1.8),i.scale.set(.35,.35,.35),{show:()=>{j.p8.fromTo(i.position,{y:3.3},{y:4,duration:2,ease:Power4.easeOut}),j.p8.fromTo(r,{opacity:0},{opacity:1,duration:.5}),j.p8.fromTo(r,{opacity:1},{opacity:0,duration:.5,delay:1.3}),j.p8.fromTo(n.notification.material,{opacity:0},{opacity:1,duration:.2}),j.p8.fromTo(n.notification.material,{opacity:1},{opacity:0,duration:1,delay:2})}}},Y=(e,a,t)=>{let n=[new e.SpriteMaterial({map:new e.TextureLoader().load(t.tone0Texture),alphaTest:.1,opacity:0,fog:!1}),new e.SpriteMaterial({map:new e.TextureLoader().load(t.tone1Texture),alphaTest:.1,opacity:0,fog:!1}),new e.SpriteMaterial({map:new e.TextureLoader().load(t.tone2Texture),alphaTest:.1,opacity:0,fog:!1})];[new e.Sprite(n[0]),new e.Sprite(n[1]),new e.Sprite(n[2])].forEach(e=>{e.scale.set(.3,.3,.3),e.position.set(-1.2,2,-1.9),a.add(e)});let r=e=>{},i=()=>{r(0),j.ZP.delayedCall(1.5,()=>r(1)),j.ZP.delayedCall(3,()=>r(2))};j.ZP.delayedCall(2,()=>i())},V=(e,a)=>{a.hoverIcon="pointer"},X=(e,a,t,n)=>{t.children[0],t.children[1];let r=new e.SpriteMaterial({map:new e.TextureLoader().load(a.heartTexture),alphaTest:.1,opacity:0,fog:!1,rotation:.2}),i=new e.Sprite(r);i.position.set(t.x+.07,2.2,t.z+.07),i.scale.set(.25,.25,.25),n.add(i),t.hoverIcon="pointer",t.onClick=()=>o();let o=()=>{};return{}};let J=async(e,a,t,s,d)=>{let c=(await t.loadAsync(s.roomModel)).scene;if(!c)return;n=c.children.find(e=>"room-base"===e.name),r=c.children.find(e=>"shelving"===e.name),i=c.children.find(e=>"picture"===e.name),o=c.children.find(e=>"blackboard"===e.name),l=c.children.find(e=>"plant"===e.name);let p=c.children.find(e=>"chair"===e.name),m=c.children.find(e=>"speaker"===e.name),h=c.children.find(e=>"penguin"===e.name),u=c.children.find(e=>"desktop-plane-0"===e.name),f=c.children.find(e=>"desktop-plane-1"===e.name);m&&n.add(m),h&&n.add(h),p&&n.add(p),u&&n.add(u),f&&n.add(f),c.rotation.y=-Math.PI/4*3,c.position.y-=1,a.add(c);let w=new e.TextureLoader().load(s.bakedRoomTexture);w.colorSpace=e.SRGBColorSpace,w.flipY=!1;let x=new e.MeshBasicMaterial({map:w,transparent:!0,fog:!1});c.traverse(a=>{a instanceof e.Mesh&&(a.material=x)}),d&&c.add(d.roomShadowModel);let g=U(e,n,s),y=Z(n,c),v=q(e,c,s,g),b=Y(e,c,s),M=V(e,m),k=X(e,s,h,c);return{roomModel:c,desktops:g,mouse:y,messagePopUp:v,tones:b,speaker:M,penguin:k,bounceInAnimation:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];j.p8.fromTo(n.scale,{x:0,y:0,z:0},{x:1,y:1,z:1,duration:.5,ease:Power4.easeOut,delay:e}),d&&j.p8.fromTo(d.material.uniforms.uOpacity,{value:0},{value:1,duration:.4,delay:e+(a?.5:.23),ease:Expo.easeOut}),a&&(j.p8.fromTo(r.scale,{x:0,y:0,z:0},{x:1,y:1,z:1,duration:.5,ease:Power4.easeOut,delay:e+.25}),j.p8.fromTo(i.scale,{x:0,y:0,z:0},{x:1,y:1,z:1,duration:.5,ease:Power4.easeOut,delay:e+.32}),j.p8.fromTo(o.scale,{x:0,y:0,z:0},{x:1,y:1,z:1,duration:.5,ease:Power4.easeOut,delay:e+.39}),j.p8.fromTo(l.scale,{x:0,y:0,z:0},{x:1,y:1,z:1,duration:.5,ease:Power4.easeOut,delay:e+.46}))},bounceOutAnimation:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;j.p8.fromTo(n.scale,{x:1,y:1,z:1},{x:0,y:0,z:0,duration:.5,ease:Power4.easeIn,delay:e}),d&&j.p8.fromTo(d.material.uniforms.uOpacity,{value:1},{value:0,duration:.15,delay:e+.25})},scrollDesktop0:()=>{j.p8.to(new e.TextureLoader().load(s.desktop0).offset,{y:-.5*Math.random()+.25,duration:1})}}},K=async(e,a,t,n,r)=>{let i=(await t.loadAsync(n.characterModel)).scene;i.position.y=2,i.rotation.y=-Math.PI/4,a.add(i);let o=i.children.find(e=>"armature"===e.name);if(!o)return;let l=o.children.find(e=>"arm-left"===e.name),s=o.children.find(e=>"arm-right"===e.name),d=o.children.find(e=>"leg-right"===e.name),c=o.children.find(e=>"leg-left"===e.name),p=o.children.find(e=>"shoe-right"===e.name),m=o.children.find(e=>"shoe-left"===e.name),h=o.children.find(e=>"shoe-white-right"===e.name),u=o.children.find(e=>"shoe-white-left"===e.name),f=o.children.find(e=>"sock-right"===e.name),w=o.children.find(e=>"sock-left"===e.name),x=o.children.find(e=>"pants-bottom-right"===e.name),g=o.children.find(e=>"pants-bottom-left"===e.name),y=o.children.find(e=>"pants-right"===e.name),v=o.children.find(e=>"pants-left"===e.name),b=o.children.find(e=>"chest"===e.name),M=o.children.find(e=>"shoulder-right"===e.name),k=o.children.find(e=>"shoulder-left"===e.name),C=o.children.find(e=>"throat"===e.name),L=o.children.find(e=>"head"===e.name),T=new e.TextureLoader().load(n.bakedCharacterHeadTexture);T.colorSpace=e.SRGBColorSpace,T.flipY=!1;let S=new e.MeshMatcapMaterial({matcap:new e.TextureLoader().load(n.shirtMatcap),transparent:!0,fog:!1}),A=new e.MeshMatcapMaterial({matcap:new e.TextureLoader().load(n.skinMatcap),transparent:!0,fog:!1}),j={shirtMaterial:S,skinMaterial:A,pantsMaterial:new e.MeshMatcapMaterial({matcap:new e.TextureLoader().load(n.pantsMatcap),transparent:!0,fog:!1}),whiteMaterial:new e.MeshMatcapMaterial({matcap:new e.TextureLoader().load(n.whiteMatcap),transparent:!0,fog:!1}),bakedMaterial:new e.MeshBasicMaterial({map:T,fog:!1}),wireframeMaterial:null};s&&(s.material=j.skinMaterial),l&&(l.material=j.skinMaterial),d&&(d.material=j.skinMaterial),c&&(c.material=j.skinMaterial),p&&(p.material=j.shirtMaterial),m&&(m.material=j.shirtMaterial),h&&(h.material=j.whiteMaterial),u&&(u.material=j.whiteMaterial),f&&(f.material=j.whiteMaterial),w&&(w.material=j.whiteMaterial),x&&(x.material=j.shirtMaterial),g&&(g.material=j.shirtMaterial),y&&(y.material=j.pantsMaterial),v&&(v.material=j.pantsMaterial),b&&(b.material=j.shirtMaterial),M&&(M.material=j.shirtMaterial),k&&(k.material=j.shirtMaterial),C&&(C.material=j.skinMaterial),L&&(L.material=j.bakedMaterial),o.traverse(e=>{"SkinnedMesh"===e.type&&(e.frustumCulled=!1)}),j.wireframeMaterial=new e.MeshBasicMaterial({color:"#009dff",wireframe:!0,opacity:.24,blending:2,wireframeLinewidth:.01,fog:!1}),d.wireframeAt=-9.1,c.wireframeAt=-9.1,p.wireframeAt=-9,m.wireframeAt=-9,h.wireframeAt=-9,u.wireframeAt=-9,f.wireframeAt=-9,w.wireframeAt=-9,x.wireframeAt=-9.2,g.wireframeAt=-9.2,y.wireframeAt=-10,v.wireframeAt=-10,b.wireframeAt=-11,M.wireframeAt=-11,k.wireframeAt=-11,C.wireframeAt=-11.2,L.wireframeAt=-11.5,s.wireframeAt=-11.55,l.wireframeAt=-11.5;let z=()=>{i.children[0].traverse(a=>{"face"===a.name&&(a.visible=!0),a instanceof e.Mesh&&"originalMaterial"in a&&(a.material=a.originalMaterial)})};i.children[0].traverse(a=>{a instanceof e.Mesh&&"face"!==a.name&&!("originalMaterial"in a)&&(a.originalMaterial=a.material,a.material=j.wireframeMaterial)}),setTimeout(()=>z());let F=e=>{"face"===e.name?e.visible=!0:e.material=e.originalMaterial},O=e=>{"face"===e.name?e.visible=!1:(e.originalMaterial||(e.originalMaterial=e.material),e.material=j.wireframeMaterial)},P=e=>{i.children[0].traverse(a=>{a.wireframeAt&&("up"===e&&i.position.y>a.wireframeAt-5.7?F(a):"down"===e&&i.position.y<a.wireframeAt-5.7&&O(a))})};return{bodyModel:i,armature:o,bodyUpdate:()=>{r&&P(r)}}},Q=async(e,a,t)=>{let n=t.armature.children.find(e=>"face"===e.name);n.wireframeAt="-11.5";let r={default:new e.TextureLoader().load(a.characterDefaultFace),scared:new e.TextureLoader().load(a.characterScaredFace),sleepy:new e.TextureLoader().load(a.characterSleepyFace),hurt:new e.TextureLoader().load(a.characterHurtFace)},i=new e.MeshBasicMaterial({map:r.default,transparent:!0,fog:!1});return n.material=i,new e.TextureLoader().load(a.characterSmile0Face),new e.TextureLoader().load(a.characterSmile1Face),new e.TextureLoader().load(a.characterSmile2Face),new e.TextureLoader().load(a.characterScaredFace),new e.TextureLoader().load(a.characterContact1Face),new e.TextureLoader().load(a.characterContact2Face),{faceModel:n,material:i,textures:r,updateFace:e=>{}}},$=async(e,a,t,n,r,i)=>{let o=await a.loadAsync(t.characterModel),l=o.scene,f=new e.AnimationMixer(l),w=o.animations.find(e=>"left-desktop-action"===e.name);w&&(s=f.clipAction(w));let x=o.animations.find(e=>"idle"===e.name);x&&(d=f.clipAction(x));let g=o.animations.find(e=>"wave"===e.name);g&&(c=f.clipAction(g));let y=o.animations.find(e=>"fall-down"===e.name);y&&(p=f.clipAction(y));let v=o.animations.find(e=>"water-idle"===e.name);v&&(m=f.clipAction(v));let b=o.animations.find(e=>"contact-animation"===e.name);b&&(h=f.clipAction(b));let M=o.animations.find(e=>"standing-idle"===e.name);M&&(u=f.clipAction(M));let k={leftDesktopAction:s,idle:d,wave:c,fallDown:p,waterIdle:m,contact:h,standingIdle:u,current:d};k.leftDesktopAction.repetitions=1,k.leftDesktopAction.clampWhenFinished=!0,k.leftDesktopAction.allowedOutsideLanding=!1,k.idle.loop=!1,k.idle.allowedOutsideLanding=!1,k.wave.repetitions=1,k.wave.clampWhenFinished=!0,k.wave.allowedOutsideLanding=!1,k.fallDown.repetitions=1,k.fallDown.clampWhenFinished=!0,k.fallDown.allowedOutsideLanding=!0,k.waterIdle.loop=!1,k.waterIdle.allowedOutsideLanding=!0,k.contact.repetitions=1,k.contact.clampWhenFinished=!0,k.contact.allowedOutsideLanding=!0,k.standingIdle.loop=!1,k.standingIdle.allowedOutsideLanding=!0,k.standingIdle.timeScale=.5;let C=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5,t=k[e],n=k.current,r=t._clip.name!==n._clip.name,i=t.allowedOutsideLanding;r&&i&&(t.reset().play(),n.crossFadeTo(t,a),k.current=t)},{timeData:L}=_();return{animationsModel:l,actions:k,play:C,playIntroAnimation:()=>{j.p8.fromTo(l.position,{y:2},{y:-5.7,duration:1.1,ease:Power2.easeIn,onComplete:()=>{n.material.map=n.textures.default,j.p8.to(r.roomModel.rotation,{x:.12,z:-.12,ease:Power1.easeOut,duration:.16,yoyo:!0,repeat:1})}}),n.material.map=n.textures.scared,j.p8.delayedCall(1,()=>{j.p8.delayedCall(.37,()=>{n.updateFace("smile"),i.intervals.initBlink()}),j.p8.delayedCall(k.wave._clip.duration-1.7,()=>{})}),j.p8.delayedCall(0,()=>C("wave")),j.p8.delayedCall(k.wave._clip.duration,()=>i.intervals.idle())},updateAnimation:()=>{f&&L.delta<50&&f.update(.001*L.delta)}}},ee=async(e,a,t,n,r)=>{let i={intervalDuration:5,phases:[new e.TextureLoader().load(a.characterBlink0Face),new e.TextureLoader().load(a.characterBlink1Face),new e.TextureLoader().load(a.characterBlink0Face)],allowedMaps:[n.textures.default,n.textures.sleepy],currentMap:null};j.p8.delayedCall(i.intervalDuration,()=>{if(i.currentMap=n.material.map&&i.allowedMaps.includes(i.currentMap))for(let e=0;e<i.phases.length+1;e++)j.p8.delayedCall(60*e/1e3,()=>{(n.material.map===i.phases[e-1]||0===e)&&(n.material.map=e<i.phases.length-1?i.phases[e]:i.currentMap)})}).play();let o=j.p8.delayedCall(2*Math.random()+3,()=>{}),l=()=>{o.play()},s=[],d=j.p8.delayedCall(12+r.actions.leftDesktopAction._clip.duration+4*Math.random(),()=>{}),c=()=>{d.play()};return{idle:()=>{"wave"===r.actions.current._clip.name&&r.play("idle",.4),l(),c()},killLeftDesktopIntervals:()=>{s&&(s.forEach(e=>e.kill(!0)),s=[])},update:()=>{}}},ea=async(e,a,t)=>{let n=new H.E(t),r=(()=>{let e={};for(let a of B)e[a.name]=a.path;return e})();f=await W(e,n,r),w=await J(e,a,n,r,f),g=await K(e,a,n,r),x=await Q(e,r,g),v=await $(e,n,r,x,w,y),y=await ee(e,r,w,x,v)};function et(){let e=(0,M.useRef)(null),a=new k.LoadingManager,t=null,[n,r]=(0,M.useState)(0),i=(e,a)=>{100===Math.floor(e/a*100)?(t&&clearTimeout(t),t=setTimeout(()=>{r(parseFloat((e/a*100).toFixed(2)))},800)):r(parseFloat((e/a*100).toFixed(2)))};return(0,M.useEffect)(()=>{if(a.onProgress=(e,a,t)=>{i(a,t)},e.current){var t;let{renderer:n,render:r,scene:i,onResize:o}=G(k);return I(k,i),ea(k,i,a),null===(t=e.current)||void 0===t||t.appendChild(n.domElement),r(),window.addEventListener("resize",o),()=>{window.removeEventListener("resize",o)}}},[]),(0,b.jsx)(b.Fragment,{children:(0,b.jsx)("div",{children:(0,b.jsxs)("div",{className:"container",children:[(0,b.jsx)("div",{ref:e,className:"main-webGl"}),(0,b.jsx)(C,{}),(0,b.jsx)(L,{}),(0,b.jsx)(T,{})]})})})}t(7995),t(989)},5636:function(){},7995:function(){},2488:function(){},1344:function(){},989:function(){}},function(e){e.O(0,[116,364,409,120,543,744],function(){return e(e.s=2883)}),_N_E=e.O()}]);