(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[246],{9465:function(e,t,n){"use strict";n.d(t,{ZP:function(){return ew},p8:function(){return ew}});var r,i,s,o,a,u,l,c,d,h,p=n(6895),f={},_=180/Math.PI,m=Math.PI/180,g=Math.atan2,A=/([A-Z])/g,v=/(left|right|width|margin|padding|x)/i,x=/[\s,\(]\S/,y={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},T=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},w=function(e,t){return t.set(t.t,t.p,1===e?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},b=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},S=function(e,t){var n=t.s+t.c*e;t.set(t.t,t.p,~~(n+(n<0?-.5:.5))+t.u,t)},E=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},R=function(e,t){return t.set(t.t,t.p,1!==e?t.b:t.e,t)},I=function(e,t,n){return e.style[t]=n},O=function(e,t,n){return e.style.setProperty(t,n)},M=function(e,t,n){return e._gsap[t]=n},P=function(e,t,n){return e._gsap.scaleX=e._gsap.scaleY=n},L=function(e,t,n,r,i){var s=e._gsap;s.scaleX=s.scaleY=n,s.renderTransform(i,s)},k=function(e,t,n,r,i){var s=e._gsap;s[t]=n,s.renderTransform(i,s)},F="transform",C=F+"Origin",H=function e(t,n){var r=this,i=this.target,s=i.style,o=i._gsap;if(t in f&&s){if(this.tfm=this.tfm||{},"transform"===t)return y.transform.split(",").forEach(function(t){return e.call(r,t,n)});if(~(t=y[t]||t).indexOf(",")?t.split(",").forEach(function(e){return r.tfm[e]=ee(i,e)}):this.tfm[t]=o.x?o[t]:ee(i,t),t===C&&(this.tfm.zOrigin=o.zOrigin),this.props.indexOf(F)>=0)return;o.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(C,n,"")),t=F}(s||n)&&this.props.push(t,n,s[t])},N=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},B=function(){var e,t,n=this.props,r=this.target,i=r.style,s=r._gsap;for(e=0;e<n.length;e+=3)n[e+1]?r[n[e]]=n[e+2]:n[e+2]?i[n[e]]=n[e+2]:i.removeProperty("--"===n[e].substr(0,2)?n[e]:n[e].replace(A,"-$1").toLowerCase());if(this.tfm){for(t in this.tfm)s[t]=this.tfm[t];s.svg&&(s.renderTransform(),r.setAttribute("data-svg-origin",this.svgo||"")),(e=d())&&e.isStart||i[F]||(N(i),s.zOrigin&&i[C]&&(i[C]+=" "+s.zOrigin+"px",s.zOrigin=0,s.renderTransform()),s.uncache=1)}},D=function(e,t){var n={target:e,props:[],revert:B,save:H};return e._gsap||p.p8.core.getCache(e),t&&t.split(",").forEach(function(e){return n.save(e)}),n},G=function(e,t){var n=o.createElementNS?o.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):o.createElement(e);return n&&n.style?n:o.createElement(e)},U=function e(t,n,r){var i=getComputedStyle(t);return i[n]||i.getPropertyValue(n.replace(A,"-$1").toLowerCase())||i.getPropertyValue(n)||!r&&e(t,j(n)||n,1)||""},X="O,Moz,ms,Ms,Webkit".split(","),j=function(e,t,n){var r=(t||l).style,i=5;if(e in r&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);i--&&!(X[i]+e in r););return i<0?null:(3===i?"ms":i>=0?X[i]:"")+e},V=function(){"undefined"!=typeof window&&window.document&&(a=(o=window.document).documentElement,l=G("div")||{style:{}},G("div"),C=(F=j(F))+"Origin",l.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",h=!!j("perspective"),d=p.p8.core.reverting,u=1)},K=function e(t){var n,r=G("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,s=this.nextSibling,o=this.style.cssText;if(a.appendChild(r),r.appendChild(this),this.style.display="block",t)try{n=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=e}catch(e){}else this._gsapBBox&&(n=this._gsapBBox());return i&&(s?i.insertBefore(this,s):i.appendChild(this)),a.removeChild(r),this.style.cssText=o,n},q=function(e,t){for(var n=t.length;n--;)if(e.hasAttribute(t[n]))return e.getAttribute(t[n])},Y=function(e){var t;try{t=e.getBBox()}catch(n){t=K.call(e,!0)}return t&&(t.width||t.height)||e.getBBox===K||(t=K.call(e,!0)),!t||t.width||t.x||t.y?t:{x:+q(e,["x","cx","x1"])||0,y:+q(e,["y","cy","y1"])||0,width:0,height:0}},W=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&Y(e))},z=function(e,t){if(t){var n,r=e.style;t in f&&t!==C&&(t=F),r.removeProperty?(("ms"===(n=t.substr(0,2))||"webkit"===t.substr(0,6))&&(t="-"+t),r.removeProperty("--"===n?t:t.replace(A,"-$1").toLowerCase())):r.removeAttribute(t)}},Z=function(e,t,n,r,i,s){var o=new p.Fo(e._pt,t,n,0,1,s?R:E);return e._pt=o,o.b=r,o.e=i,e._props.push(n),o},Q={deg:1,rad:1,turn:1},$={grid:1,flex:1},J=function e(t,n,r,i){var s,a,u,c,d=parseFloat(r)||0,h=(r+"").trim().substr((d+"").length)||"px",_=l.style,m=v.test(n),g="svg"===t.tagName.toLowerCase(),A=(g?"client":"offset")+(m?"Width":"Height"),x="px"===i,y="%"===i;if(i===h||!d||Q[i]||Q[h])return d;if("px"===h||x||(d=e(t,n,r,"px")),c=t.getCTM&&W(t),(y||"%"===h)&&(f[n]||~n.indexOf("adius")))return s=c?t.getBBox()[m?"width":"height"]:t[A],(0,p.Pr)(y?d/s*100:d/100*s);if(_[m?"width":"height"]=100+(x?h:i),a=~n.indexOf("adius")||"em"===i&&t.appendChild&&!g?t:t.parentNode,c&&(a=(t.ownerSVGElement||{}).parentNode),a&&a!==o&&a.appendChild||(a=o.body),(u=a._gsap)&&y&&u.width&&m&&u.time===p.xr.time&&!u.uncache)return(0,p.Pr)(d/u.width*100);if(y&&("height"===n||"width"===n)){var T=t.style[n];t.style[n]=100+i,s=t[A],T?t.style[n]=T:z(t,n)}else(y||"%"===h)&&!$[U(a,"display")]&&(_.position=U(t,"position")),a===t&&(_.position="static"),a.appendChild(l),s=l[A],a.removeChild(l),_.position="absolute";return m&&y&&((u=(0,p.DY)(a)).time=p.xr.time,u.width=a[A]),(0,p.Pr)(x?s*d/100:s&&d?100/s*d:0)},ee=function(e,t,n,r){var i;return u||V(),t in y&&"transform"!==t&&~(t=y[t]).indexOf(",")&&(t=t.split(",")[0]),f[t]&&"transform"!==t?(i=eh(e,r),i="transformOrigin"!==t?i[t]:i.svg?i.origin:ep(U(e,C))+" "+i.zOrigin+"px"):(!(i=e.style[t])||"auto"===i||r||~(i+"").indexOf("calc("))&&(i=es[t]&&es[t](e,t,n)||U(e,t)||(0,p.Ok)(e,t)||("opacity"===t?1:0)),n&&!~(i+"").trim().indexOf(" ")?J(e,t,i,n)+n:i},et=function(e,t,n,r){if(!n||"none"===n){var i=j(t,e,1),s=i&&U(e,i,1);s&&s!==n?(t=i,n=s):"borderColor"===t&&(n=U(e,"borderTopColor"))}var o,a,u,l,c,d,h,f,_,m,g,A=new p.Fo(this._pt,e.style,t,0,1,p.Ks),v=0,x=0;if(A.b=n,A.e=r,n+="","auto"==(r+="")&&(d=e.style[t],e.style[t]=r,r=U(e,t)||r,d?e.style[t]=d:z(e,t)),o=[n,r],(0,p.kr)(o),n=o[0],r=o[1],u=n.match(p.d4)||[],(r.match(p.d4)||[]).length){for(;a=p.d4.exec(r);)h=a[0],_=r.substring(v,a.index),c?c=(c+1)%5:("rgba("===_.substr(-5)||"hsla("===_.substr(-5))&&(c=1),h!==(d=u[x++]||"")&&(l=parseFloat(d)||0,g=d.substr((l+"").length),"="===h.charAt(1)&&(h=(0,p.cy)(l,h)+g),f=parseFloat(h),m=h.substr((f+"").length),v=p.d4.lastIndex-m.length,m||(m=m||p.Fc.units[t]||g,v!==r.length||(r+=m,A.e+=m)),g!==m&&(l=J(e,t,d,m)||0),A._pt={_next:A._pt,p:_||1===x?_:",",s:l,c:f-l,m:c&&c<4||"zIndex"===t?Math.round:0});A.c=v<r.length?r.substring(v,r.length):""}else A.r="display"===t&&"none"===r?R:E;return p.bQ.test(r)&&(A.e=0),this._pt=A,A},en={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},er=function(e){var t=e.split(" "),n=t[0],r=t[1]||"50%";return("top"===n||"bottom"===n||"left"===r||"right"===r)&&(e=n,n=r,r=e),t[0]=en[n]||n,t[1]=en[r]||r,t.join(" ")},ei=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var n,r,i,s=t.t,o=s.style,a=t.u,u=s._gsap;if("all"===a||!0===a)o.cssText="",r=1;else for(i=(a=a.split(",")).length;--i>-1;)f[n=a[i]]&&(r=1,n="transformOrigin"===n?C:F),z(s,n);r&&(z(s,F),u&&(u.svg&&s.removeAttribute("transform"),eh(s,1),u.uncache=1,N(o)))}},es={clearProps:function(e,t,n,r,i){if("isFromStart"!==i.data){var s=e._pt=new p.Fo(e._pt,t,n,0,0,ei);return s.u=r,s.pr=-10,s.tween=i,e._props.push(n),1}}},eo=[1,0,0,1,0,0],ea={},eu=function(e){return"matrix(1, 0, 0, 1, 0, 0)"===e||"none"===e||!e},el=function(e){var t=U(e,F);return eu(t)?eo:t.substr(7).match(p.SI).map(p.Pr)},ec=function(e,t){var n,r,i,s,o=e._gsap||(0,p.DY)(e),u=e.style,l=el(e);return o.svg&&e.getAttribute("transform")?"1,0,0,1,0,0"===(l=[(i=e.transform.baseVal.consolidate().matrix).a,i.b,i.c,i.d,i.e,i.f]).join(",")?eo:l:(l!==eo||e.offsetParent||e===a||o.svg||(i=u.display,u.display="block",(n=e.parentNode)&&e.offsetParent||(s=1,r=e.nextElementSibling,a.appendChild(e)),l=el(e),i?u.display=i:z(e,"display"),s&&(r?n.insertBefore(e,r):n?n.appendChild(e):a.removeChild(e))),t&&l.length>6?[l[0],l[1],l[4],l[5],l[12],l[13]]:l)},ed=function(e,t,n,r,i,s){var o,a,u,l,c=e._gsap,d=i||ec(e,!0),h=c.xOrigin||0,p=c.yOrigin||0,f=c.xOffset||0,_=c.yOffset||0,m=d[0],g=d[1],A=d[2],v=d[3],x=d[4],y=d[5],T=t.split(" "),w=parseFloat(T[0])||0,b=parseFloat(T[1])||0;n?d!==eo&&(a=m*v-g*A)&&(u=v/a*w+-A/a*b+(A*y-v*x)/a,l=-g/a*w+m/a*b-(m*y-g*x)/a,w=u,b=l):(w=(o=Y(e)).x+(~T[0].indexOf("%")?w/100*o.width:w),b=o.y+(~(T[1]||T[0]).indexOf("%")?b/100*o.height:b)),r||!1!==r&&c.smooth?(x=w-h,y=b-p,c.xOffset=f+(x*m+y*A)-x,c.yOffset=_+(x*g+y*v)-y):c.xOffset=c.yOffset=0,c.xOrigin=w,c.yOrigin=b,c.smooth=!!r,c.origin=t,c.originIsAbsolute=!!n,e.style[C]="0px 0px",s&&(Z(s,c,"xOrigin",h,w),Z(s,c,"yOrigin",p,b),Z(s,c,"xOffset",f,c.xOffset),Z(s,c,"yOffset",_,c.yOffset)),e.setAttribute("data-svg-origin",w+" "+b)},eh=function(e,t){var n=e._gsap||new p.l1(e);if("x"in n&&!t&&!n.uncache)return n;var r,i,s,o,a,u,l,c,d,f,A,v,x,y,T,w,b,S,E,R,I,O,M,P,L,k,H,N,B,D,G,X,j=e.style,V=n.scaleX<0,K=getComputedStyle(e),q=U(e,C)||"0";return r=i=s=u=l=c=d=f=A=0,o=a=1,n.svg=!!(e.getCTM&&W(e)),K.translate&&(("none"!==K.translate||"none"!==K.scale||"none"!==K.rotate)&&(j[F]=("none"!==K.translate?"translate3d("+(K.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+("none"!==K.rotate?"rotate("+K.rotate+") ":"")+("none"!==K.scale?"scale("+K.scale.split(" ").join(",")+") ":"")+("none"!==K[F]?K[F]:"")),j.scale=j.rotate=j.translate="none"),y=ec(e,n.svg),n.svg&&(n.uncache?(L=e.getBBox(),q=n.xOrigin-L.x+"px "+(n.yOrigin-L.y)+"px",P=""):P=!t&&e.getAttribute("data-svg-origin"),ed(e,P||q,!!P||n.originIsAbsolute,!1!==n.smooth,y)),v=n.xOrigin||0,x=n.yOrigin||0,y!==eo&&(S=y[0],E=y[1],R=y[2],I=y[3],r=O=y[4],i=M=y[5],6===y.length?(o=Math.sqrt(S*S+E*E),a=Math.sqrt(I*I+R*R),u=S||E?g(E,S)*_:0,(d=R||I?g(R,I)*_+u:0)&&(a*=Math.abs(Math.cos(d*m))),n.svg&&(r-=v-(v*S+x*R),i-=x-(v*E+x*I))):(X=y[6],D=y[7],H=y[8],N=y[9],B=y[10],G=y[11],r=y[12],i=y[13],s=y[14],l=(T=g(X,B))*_,T&&(P=O*(w=Math.cos(-T))+H*(b=Math.sin(-T)),L=M*w+N*b,k=X*w+B*b,H=-(O*b)+H*w,N=-(M*b)+N*w,B=-(X*b)+B*w,G=-(D*b)+G*w,O=P,M=L,X=k),c=(T=g(-R,B))*_,T&&(P=S*(w=Math.cos(-T))-H*(b=Math.sin(-T)),L=E*w-N*b,k=R*w-B*b,G=I*b+G*w,S=P,E=L,R=k),u=(T=g(E,S))*_,T&&(P=S*(w=Math.cos(T))+E*(b=Math.sin(T)),L=O*w+M*b,E=E*w-S*b,M=M*w-O*b,S=P,O=L),l&&Math.abs(l)+Math.abs(u)>359.9&&(l=u=0,c=180-c),o=(0,p.Pr)(Math.sqrt(S*S+E*E+R*R)),a=(0,p.Pr)(Math.sqrt(M*M+X*X)),d=Math.abs(T=g(O,M))>2e-4?T*_:0,A=G?1/(G<0?-G:G):0),n.svg&&(P=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!eu(U(e,F)),P&&e.setAttribute("transform",P))),Math.abs(d)>90&&270>Math.abs(d)&&(V?(o*=-1,d+=u<=0?180:-180,u+=u<=0?180:-180):(a*=-1,d+=d<=0?180:-180)),t=t||n.uncache,n.x=r-((n.xPercent=r&&(!t&&n.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-r)?-50:0)))?e.offsetWidth*n.xPercent/100:0)+"px",n.y=i-((n.yPercent=i&&(!t&&n.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-i)?-50:0)))?e.offsetHeight*n.yPercent/100:0)+"px",n.z=s+"px",n.scaleX=(0,p.Pr)(o),n.scaleY=(0,p.Pr)(a),n.rotation=(0,p.Pr)(u)+"deg",n.rotationX=(0,p.Pr)(l)+"deg",n.rotationY=(0,p.Pr)(c)+"deg",n.skewX=d+"deg",n.skewY=f+"deg",n.transformPerspective=A+"px",(n.zOrigin=parseFloat(q.split(" ")[2])||!t&&n.zOrigin||0)&&(j[C]=ep(q)),n.xOffset=n.yOffset=0,n.force3D=p.Fc.force3D,n.renderTransform=n.svg?eA:h?eg:e_,n.uncache=0,n},ep=function(e){return(e=e.split(" "))[0]+" "+e[1]},ef=function(e,t,n){var r=(0,p.Wy)(t);return(0,p.Pr)(parseFloat(t)+parseFloat(J(e,"x",n+"px",r)))+r},e_=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,eg(e,t)},em="0deg",eg=function(e,t){var n=t||this,r=n.xPercent,i=n.yPercent,s=n.x,o=n.y,a=n.z,u=n.rotation,l=n.rotationY,c=n.rotationX,d=n.skewX,h=n.skewY,p=n.scaleX,f=n.scaleY,_=n.transformPerspective,g=n.force3D,A=n.target,v=n.zOrigin,x="",y="auto"===g&&e&&1!==e||!0===g;if(v&&(c!==em||l!==em)){var T,w=parseFloat(l)*m,b=Math.sin(w),S=Math.cos(w);s=ef(A,s,-(b*(T=Math.cos(w=parseFloat(c)*m))*v)),o=ef(A,o,-(-Math.sin(w)*v)),a=ef(A,a,-(S*T*v)+v)}"0px"!==_&&(x+="perspective("+_+") "),(r||i)&&(x+="translate("+r+"%, "+i+"%) "),(y||"0px"!==s||"0px"!==o||"0px"!==a)&&(x+="0px"!==a||y?"translate3d("+s+", "+o+", "+a+") ":"translate("+s+", "+o+") "),u!==em&&(x+="rotate("+u+") "),l!==em&&(x+="rotateY("+l+") "),c!==em&&(x+="rotateX("+c+") "),(d!==em||h!==em)&&(x+="skew("+d+", "+h+") "),(1!==p||1!==f)&&(x+="scale("+p+", "+f+") "),A.style[F]=x||"translate(0, 0)"},eA=function(e,t){var n,r,i,s,o,a=t||this,u=a.xPercent,l=a.yPercent,c=a.x,d=a.y,h=a.rotation,f=a.skewX,_=a.skewY,g=a.scaleX,A=a.scaleY,v=a.target,x=a.xOrigin,y=a.yOrigin,T=a.xOffset,w=a.yOffset,b=a.forceCSS,S=parseFloat(c),E=parseFloat(d);h=parseFloat(h),f=parseFloat(f),(_=parseFloat(_))&&(f+=_=parseFloat(_),h+=_),h||f?(h*=m,f*=m,n=Math.cos(h)*g,r=Math.sin(h)*g,i=-(Math.sin(h-f)*A),s=Math.cos(h-f)*A,f&&(_*=m,i*=o=Math.sqrt(1+(o=Math.tan(f-_))*o),s*=o,_&&(n*=o=Math.sqrt(1+(o=Math.tan(_))*o),r*=o)),n=(0,p.Pr)(n),r=(0,p.Pr)(r),i=(0,p.Pr)(i),s=(0,p.Pr)(s)):(n=g,s=A,r=i=0),(S&&!~(c+"").indexOf("px")||E&&!~(d+"").indexOf("px"))&&(S=J(v,"x",c,"px"),E=J(v,"y",d,"px")),(x||y||T||w)&&(S=(0,p.Pr)(S+x-(x*n+y*i)+T),E=(0,p.Pr)(E+y-(x*r+y*s)+w)),(u||l)&&(o=v.getBBox(),S=(0,p.Pr)(S+u/100*o.width),E=(0,p.Pr)(E+l/100*o.height)),o="matrix("+n+","+r+","+i+","+s+","+S+","+E+")",v.setAttribute("transform",o),b&&(v.style[F]=o)},ev=function(e,t,n,r,i){var s,o,a=(0,p.r9)(i),u=parseFloat(i)*(a&&~i.indexOf("rad")?_:1)-r,l=r+u+"deg";return a&&("short"===(s=i.split("_")[1])&&(u%=360)!=u%180&&(u+=u<0?360:-360),"cw"===s&&u<0?u=(u+36e9)%360-360*~~(u/360):"ccw"===s&&u>0&&(u=(u-36e9)%360-360*~~(u/360))),e._pt=o=new p.Fo(e._pt,t,n,r,u,w),o.e=l,o.u="deg",e._props.push(n),o},ex=function(e,t){for(var n in t)e[n]=t[n];return e},ey=function(e,t,n){var r,i,s,o,a,u,l,c=ex({},n._gsap),d=n.style;for(i in c.svg?(s=n.getAttribute("transform"),n.setAttribute("transform",""),d[F]=t,r=eh(n,1),z(n,F),n.setAttribute("transform",s)):(s=getComputedStyle(n)[F],d[F]=t,r=eh(n,1),d[F]=s),f)(s=c[i])!==(o=r[i])&&0>"perspective,force3D,transformOrigin,svgOrigin".indexOf(i)&&(a=(0,p.Wy)(s)!==(l=(0,p.Wy)(o))?J(n,i,s,l):parseFloat(s),u=parseFloat(o),e._pt=new p.Fo(e._pt,r,i,a,u-a,T),e._pt.u=l||0,e._props.push(i));ex(r,c)};(0,p.fS)("padding,margin,Width,Radius",function(e,t){var n="Right",r="Bottom",i="Left",s=(t<3?["Top",n,r,i]:["Top"+i,"Top"+n,r+n,r+i]).map(function(n){return t<2?e+n:"border"+n+e});es[t>1?"border"+e:e]=function(e,t,n,r,i){var o,a;if(arguments.length<4)return 5===(a=(o=s.map(function(t){return ee(e,t,n)})).join(" ")).split(o[0]).length?o[0]:a;o=(r+"").split(" "),a={},s.forEach(function(e,t){return a[e]=o[t]=o[t]||o[(t-1)/2|0]}),e.init(t,a,i)}});var eT={name:"css",register:V,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,n,r,i){var s,o,a,l,c,d,h,_,m,g,A,v,w,E,R,I,O=this._props,M=e.style,P=n.vars.startAt;for(h in u||V(),this.styles=this.styles||D(e),I=this.styles.props,this.tween=n,t)if("autoRound"!==h&&(o=t[h],!(p.$i[h]&&(0,p.if)(h,t,n,r,e,i)))){if(c=typeof o,d=es[h],"function"===c&&(c=typeof(o=o.call(n,r,e,i))),"string"===c&&~o.indexOf("random(")&&(o=(0,p.UI)(o)),d)d(this,e,h,o,n)&&(R=1);else if("--"===h.substr(0,2))s=(getComputedStyle(e).getPropertyValue(h)+"").trim(),o+="",p.GN.lastIndex=0,p.GN.test(s)||(_=(0,p.Wy)(s),m=(0,p.Wy)(o)),m?_!==m&&(s=J(e,h,s,m)+m):_&&(o+=_),this.add(M,"setProperty",s,o,r,i,0,0,h),O.push(h),I.push(h,0,M[h]);else if("undefined"!==c){if(P&&h in P?(s="function"==typeof P[h]?P[h].call(n,r,e,i):P[h],(0,p.r9)(s)&&~s.indexOf("random(")&&(s=(0,p.UI)(s)),(0,p.Wy)(s+"")||"auto"===s||(s+=p.Fc.units[h]||(0,p.Wy)(ee(e,h))||""),"="===(s+"").charAt(1)&&(s=ee(e,h))):s=ee(e,h),l=parseFloat(s),(g="string"===c&&"="===o.charAt(1)&&o.substr(0,2))&&(o=o.substr(2)),a=parseFloat(o),h in y&&("autoAlpha"===h&&(1===l&&"hidden"===ee(e,"visibility")&&a&&(l=0),I.push("visibility",0,M.visibility),Z(this,M,"visibility",l?"inherit":"hidden",a?"inherit":"hidden",!a)),"scale"!==h&&"transform"!==h&&~(h=y[h]).indexOf(",")&&(h=h.split(",")[0])),A=h in f){if(this.styles.save(h),v||((w=e._gsap).renderTransform&&!t.parseTransform||eh(e,t.parseTransform),E=!1!==t.smoothOrigin&&w.smooth,(v=this._pt=new p.Fo(this._pt,M,F,0,1,w.renderTransform,w,0,-1)).dep=1),"scale"===h)this._pt=new p.Fo(this._pt,w,"scaleY",w.scaleY,(g?(0,p.cy)(w.scaleY,g+a):a)-w.scaleY||0,T),this._pt.u=0,O.push("scaleY",h),h+="X";else if("transformOrigin"===h){I.push(C,0,M[C]),o=er(o),w.svg?ed(e,o,0,E,0,this):((m=parseFloat(o.split(" ")[2])||0)!==w.zOrigin&&Z(this,w,"zOrigin",w.zOrigin,m),Z(this,M,h,ep(s),ep(o)));continue}else if("svgOrigin"===h){ed(e,o,1,E,0,this);continue}else if(h in ea){ev(this,w,h,l,g?(0,p.cy)(l,g+o):o);continue}else if("smoothOrigin"===h){Z(this,w,"smooth",w.smooth,o);continue}else if("force3D"===h){w[h]=o;continue}else if("transform"===h){ey(this,o,e);continue}}else h in M||(h=j(h)||h);if(A||(a||0===a)&&(l||0===l)&&!x.test(o)&&h in M)_=(s+"").substr((l+"").length),a||(a=0),m=(0,p.Wy)(o)||(h in p.Fc.units?p.Fc.units[h]:_),_!==m&&(l=J(e,h,s,m)),this._pt=new p.Fo(this._pt,A?w:M,h,l,(g?(0,p.cy)(l,g+a):a)-l,A||"px"!==m&&"zIndex"!==h||!1===t.autoRound?T:S),this._pt.u=m||0,_!==m&&"%"!==m&&(this._pt.b=s,this._pt.r=b);else if(h in M)et.call(this,e,h,s,g?g+o:o);else if(h in e)this.add(e,h,s||e[h],g?g+o:o,r,i);else if("parseTransform"!==h){(0,p.lC)(h,o);continue}A||(h in M?I.push(h,0,M[h]):I.push(h,1,s||e[h])),O.push(h)}}R&&(0,p.JV)(this)},render:function(e,t){if(t.tween._time||!d())for(var n=t._pt;n;)n.r(e,n.d),n=n._next;else t.styles.revert()},get:ee,aliases:y,getSetter:function(e,t,n){var r=y[t];return r&&0>r.indexOf(",")&&(t=r),t in f&&t!==C&&(e._gsap.x||ee(e,"x"))?n&&c===n?"scale"===t?P:M:(c=n||{},"scale"===t?L:k):e.style&&!(0,p.m2)(e.style[t])?I:~t.indexOf("-")?O:(0,p.S5)(e,t)},core:{_removeProperty:z,_getMatrix:ec}};p.p8.utils.checkPrefix=j,p.p8.core.getStyleSaver=D,r="x,y,z,scale,scaleX,scaleY,xPercent,yPercent",i="rotation,rotationX,rotationY,skewX,skewY",s=(0,p.fS)(r+","+i+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",function(e){f[e]=1}),(0,p.fS)(i,function(e){p.Fc.units[e]="deg",ea[e]=1}),y[s[13]]=r+","+i,(0,p.fS)("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",function(e){var t=e.split(":");y[t[1]]=s[t[0]]}),(0,p.fS)("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(e){p.Fc.units[e]="px"}),p.p8.registerPlugin(eT);var ew=p.p8.registerPlugin(eT)||p.p8;ew.core.Tween},2753:function(e,t,n){var r,i,s,o,a,u,l,c,d,h,p,f,_,m,g;(i=function(){this.init()}).prototype={init:function(){var e=this||s;return e._counter=1e3,e._html5AudioPool=[],e.html5PoolSize=10,e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent="canplaythrough",e._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.autoUnlock=!0,e._setup(),e},volume:function(e){var t=this||s;if(e=parseFloat(e),t.ctx||p(),void 0!==e&&e>=0&&e<=1){if(t._volume=e,t._muted)return t;t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e,s.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var r=t._howls[n]._getSoundIds(),i=0;i<r.length;i++){var o=t._howls[n]._soundById(r[i]);o&&o._node&&(o._node.volume=o._volume*e)}return t}return t._volume},mute:function(e){var t=this||s;t.ctx||p(),t._muted=e,t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e?0:t._volume,s.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var r=t._howls[n]._getSoundIds(),i=0;i<r.length;i++){var o=t._howls[n]._soundById(r[i]);o&&o._node&&(o._node.muted=!!e||o._muted)}return t},stop:function(){for(var e=this||s,t=0;t<e._howls.length;t++)e._howls[t].stop();return e},unload:function(){for(var e=this||s,t=e._howls.length-1;t>=0;t--)e._howls[t].unload();return e.usingWebAudio&&e.ctx&&void 0!==e.ctx.close&&(e.ctx.close(),e.ctx=null,p()),e},codecs:function(e){return(this||s)._codecs[e.replace(/^x-/,"")]},_setup:function(){var e=this||s;if(e.state=e.ctx&&e.ctx.state||"suspended",e._autoSuspend(),!e.usingWebAudio){if("undefined"!=typeof Audio)try{var t=new Audio;void 0===t.oncanplaythrough&&(e._canPlayEvent="canplay")}catch(t){e.noAudio=!0}else e.noAudio=!0}try{var t=new Audio;t.muted&&(e.noAudio=!0)}catch(e){}return e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||s,t=null;try{t="undefined"!=typeof Audio?new Audio:null}catch(t){return e}if(!t||"function"!=typeof t.canPlayType)return e;var n=t.canPlayType("audio/mpeg;").replace(/^no$/,""),r=e._navigator?e._navigator.userAgent:"",i=r.match(/OPR\/(\d+)/g),o=i&&33>parseInt(i[0].split("/")[1],10),a=-1!==r.indexOf("Safari")&&-1===r.indexOf("Chrome"),u=r.match(/Version\/(.*?) /),l=a&&u&&15>parseInt(u[1],10);return e._codecs={mp3:!!(!o&&(n||t.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!n,opus:!!t.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(t.canPlayType('audio/wav; codecs="1"')||t.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!t.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!t.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(t.canPlayType("audio/x-m4b;")||t.canPlayType("audio/m4b;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(t.canPlayType("audio/x-mp4;")||t.canPlayType("audio/mp4;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!l&&t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!l&&t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!t.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(t.canPlayType("audio/x-flac;")||t.canPlayType("audio/flac;")).replace(/^no$/,"")},e},_unlockAudio:function(){var e=this||s;if(!e._audioUnlocked&&e.ctx){e._audioUnlocked=!1,e.autoUnlock=!1,e._mobileUnloaded||44100===e.ctx.sampleRate||(e._mobileUnloaded=!0,e.unload()),e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var t=function(n){for(;e._html5AudioPool.length<e.html5PoolSize;)try{var r=new Audio;r._unlocked=!0,e._releaseHtml5Audio(r)}catch(t){e.noAudio=!0;break}for(var i=0;i<e._howls.length;i++)if(!e._howls[i]._webAudio)for(var s=e._howls[i]._getSoundIds(),o=0;o<s.length;o++){var a=e._howls[i]._soundById(s[o]);a&&a._node&&!a._node._unlocked&&(a._node._unlocked=!0,a._node.load())}e._autoResume();var u=e.ctx.createBufferSource();u.buffer=e._scratchBuffer,u.connect(e.ctx.destination),void 0===u.start?u.noteOn(0):u.start(0),"function"==typeof e.ctx.resume&&e.ctx.resume(),u.onended=function(){u.disconnect(0),e._audioUnlocked=!0,document.removeEventListener("touchstart",t,!0),document.removeEventListener("touchend",t,!0),document.removeEventListener("click",t,!0),document.removeEventListener("keydown",t,!0);for(var n=0;n<e._howls.length;n++)e._howls[n]._emit("unlock")}};return document.addEventListener("touchstart",t,!0),document.addEventListener("touchend",t,!0),document.addEventListener("click",t,!0),document.addEventListener("keydown",t,!0),e}},_obtainHtml5Audio:function(){var e=this||s;if(e._html5AudioPool.length)return e._html5AudioPool.pop();var t=new Audio().play();return t&&"undefined"!=typeof Promise&&(t instanceof Promise||"function"==typeof t.then)&&t.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(e){var t=this||s;return e._unlocked&&t._html5AudioPool.push(e),t},_autoSuspend:function(){var e=this;if(e.autoSuspend&&e.ctx&&void 0!==e.ctx.suspend&&s.usingWebAudio){for(var t=0;t<e._howls.length;t++)if(e._howls[t]._webAudio){for(var n=0;n<e._howls[t]._sounds.length;n++)if(!e._howls[t]._sounds[n]._paused)return e}return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout(function(){if(e.autoSuspend){e._suspendTimer=null,e.state="suspending";var t=function(){e.state="suspended",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())};e.ctx.suspend().then(t,t)}},3e4),e}},_autoResume:function(){var e=this;if(e.ctx&&void 0!==e.ctx.resume&&s.usingWebAudio)return"running"===e.state&&"interrupted"!==e.ctx.state&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):"suspended"===e.state||"running"===e.state&&"interrupted"===e.ctx.state?(e.ctx.resume().then(function(){e.state="running";for(var t=0;t<e._howls.length;t++)e._howls[t]._emit("resume")}),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):"suspending"===e.state&&(e._resumeAfterSuspend=!0),e}},s=new i,(o=function(e){if(!e.src||0===e.src.length){console.error("An array of source files must be passed with any new Howl.");return}this.init(e)}).prototype={init:function(e){var t=this;return s.ctx||p(),t._autoplay=e.autoplay||!1,t._format="string"!=typeof e.format?e.format:[e.format],t._html5=e.html5||!1,t._muted=e.mute||!1,t._loop=e.loop||!1,t._pool=e.pool||5,t._preload="boolean"!=typeof e.preload&&"metadata"!==e.preload||e.preload,t._rate=e.rate||1,t._sprite=e.sprite||{},t._src="string"!=typeof e.src?e.src:[e.src],t._volume=void 0!==e.volume?e.volume:1,t._xhr={method:e.xhr&&e.xhr.method?e.xhr.method:"GET",headers:e.xhr&&e.xhr.headers?e.xhr.headers:null,withCredentials:!!e.xhr&&!!e.xhr.withCredentials&&e.xhr.withCredentials},t._duration=0,t._state="unloaded",t._sounds=[],t._endTimers={},t._queue=[],t._playLock=!1,t._onend=e.onend?[{fn:e.onend}]:[],t._onfade=e.onfade?[{fn:e.onfade}]:[],t._onload=e.onload?[{fn:e.onload}]:[],t._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],t._onplayerror=e.onplayerror?[{fn:e.onplayerror}]:[],t._onpause=e.onpause?[{fn:e.onpause}]:[],t._onplay=e.onplay?[{fn:e.onplay}]:[],t._onstop=e.onstop?[{fn:e.onstop}]:[],t._onmute=e.onmute?[{fn:e.onmute}]:[],t._onvolume=e.onvolume?[{fn:e.onvolume}]:[],t._onrate=e.onrate?[{fn:e.onrate}]:[],t._onseek=e.onseek?[{fn:e.onseek}]:[],t._onunlock=e.onunlock?[{fn:e.onunlock}]:[],t._onresume=[],t._webAudio=s.usingWebAudio&&!t._html5,void 0!==s.ctx&&s.ctx&&s.autoUnlock&&s._unlockAudio(),s._howls.push(t),t._autoplay&&t._queue.push({event:"play",action:function(){t.play()}}),t._preload&&"none"!==t._preload&&t.load(),t},load:function(){var e,t,n=null;if(s.noAudio){this._emit("loaderror",null,"No audio support.");return}"string"==typeof this._src&&(this._src=[this._src]);for(var r=0;r<this._src.length;r++){if(this._format&&this._format[r])e=this._format[r];else{if("string"!=typeof(t=this._src[r])){this._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(e=/^data:audio\/([^;,]+);/i.exec(t))||(e=/\.([^.]+)$/.exec(t.split("?",1)[0])),e&&(e=e[1].toLowerCase())}if(e||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),e&&s.codecs(e)){n=this._src[r];break}}if(!n){this._emit("loaderror",null,"No codec support for selected audio sources.");return}return this._src=n,this._state="loading","https:"===window.location.protocol&&"http:"===n.slice(0,5)&&(this._html5=!0,this._webAudio=!1),new a(this),this._webAudio&&l(this),this},play:function(e,t){var n=this,r=null;if("number"==typeof e)r=e,e=null;else if("string"==typeof e&&"loaded"===n._state&&!n._sprite[e])return null;else if(void 0===e&&(e="__default",!n._playLock)){for(var i=0,o=0;o<n._sounds.length;o++)n._sounds[o]._paused&&!n._sounds[o]._ended&&(i++,r=n._sounds[o]._id);1===i?e=null:r=null}var a=r?n._soundById(r):n._inactiveSound();if(!a)return null;if(r&&!e&&(e=a._sprite||"__default"),"loaded"!==n._state){a._sprite=e,a._ended=!1;var u=a._id;return n._queue.push({event:"play",action:function(){n.play(u)}}),u}if(r&&!a._paused)return t||n._loadQueue("play"),a._id;n._webAudio&&s._autoResume();var l=Math.max(0,a._seek>0?a._seek:n._sprite[e][0]/1e3),c=Math.max(0,(n._sprite[e][0]+n._sprite[e][1])/1e3-l),d=1e3*c/Math.abs(a._rate),h=n._sprite[e][0]/1e3,p=(n._sprite[e][0]+n._sprite[e][1])/1e3;a._sprite=e,a._ended=!1;var f=function(){a._paused=!1,a._seek=l,a._start=h,a._stop=p,a._loop=!!(a._loop||n._sprite[e][2])};if(l>=p){n._ended(a);return}var _=a._node;if(n._webAudio){var m=function(){n._playLock=!1,f(),n._refreshBuffer(a);var e=a._muted||n._muted?0:a._volume;_.gain.setValueAtTime(e,s.ctx.currentTime),a._playStart=s.ctx.currentTime,void 0===_.bufferSource.start?a._loop?_.bufferSource.noteGrainOn(0,l,86400):_.bufferSource.noteGrainOn(0,l,c):a._loop?_.bufferSource.start(0,l,86400):_.bufferSource.start(0,l,c),d!==1/0&&(n._endTimers[a._id]=setTimeout(n._ended.bind(n,a),d)),t||setTimeout(function(){n._emit("play",a._id),n._loadQueue()},0)};"running"===s.state&&"interrupted"!==s.ctx.state?m():(n._playLock=!0,n.once("resume",m),n._clearTimer(a._id))}else{var g=function(){_.currentTime=l,_.muted=a._muted||n._muted||s._muted||_.muted,_.volume=a._volume*s.volume(),_.playbackRate=a._rate;try{var r=_.play();if(r&&"undefined"!=typeof Promise&&(r instanceof Promise||"function"==typeof r.then)?(n._playLock=!0,f(),r.then(function(){n._playLock=!1,_._unlocked=!0,t?n._loadQueue():n._emit("play",a._id)}).catch(function(){n._playLock=!1,n._emit("playerror",a._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),a._ended=!0,a._paused=!0})):t||(n._playLock=!1,f(),n._emit("play",a._id)),_.playbackRate=a._rate,_.paused){n._emit("playerror",a._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}"__default"!==e||a._loop?n._endTimers[a._id]=setTimeout(n._ended.bind(n,a),d):(n._endTimers[a._id]=function(){n._ended(a),_.removeEventListener("ended",n._endTimers[a._id],!1)},_.addEventListener("ended",n._endTimers[a._id],!1))}catch(e){n._emit("playerror",a._id,e)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===_.src&&(_.src=n._src,_.load());var A=window&&window.ejecta||!_.readyState&&s._navigator.isCocoonJS;if(_.readyState>=3||A)g();else{n._playLock=!0,n._state="loading";var v=function(){n._state="loaded",g(),_.removeEventListener(s._canPlayEvent,v,!1)};_.addEventListener(s._canPlayEvent,v,!1),n._clearTimer(a._id)}}return a._id},pause:function(e){var t=this;if("loaded"!==t._state||t._playLock)return t._queue.push({event:"pause",action:function(){t.pause(e)}}),t;for(var n=t._getSoundIds(e),r=0;r<n.length;r++){t._clearTimer(n[r]);var i=t._soundById(n[r]);if(i&&!i._paused&&(i._seek=t.seek(n[r]),i._rateSeek=0,i._paused=!0,t._stopFade(n[r]),i._node)){if(t._webAudio){if(!i._node.bufferSource)continue;void 0===i._node.bufferSource.stop?i._node.bufferSource.noteOff(0):i._node.bufferSource.stop(0),t._cleanBuffer(i._node)}else isNaN(i._node.duration)&&i._node.duration!==1/0||i._node.pause()}arguments[1]||t._emit("pause",i?i._id:null)}return t},stop:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"stop",action:function(){n.stop(e)}}),n;for(var r=n._getSoundIds(e),i=0;i<r.length;i++){n._clearTimer(r[i]);var s=n._soundById(r[i]);s&&(s._seek=s._start||0,s._rateSeek=0,s._paused=!0,s._ended=!0,n._stopFade(r[i]),s._node&&(n._webAudio?s._node.bufferSource&&(void 0===s._node.bufferSource.stop?s._node.bufferSource.noteOff(0):s._node.bufferSource.stop(0),n._cleanBuffer(s._node)):isNaN(s._node.duration)&&s._node.duration!==1/0||(s._node.currentTime=s._start||0,s._node.pause(),s._node.duration===1/0&&n._clearSound(s._node))),t||n._emit("stop",s._id))}return n},mute:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"mute",action:function(){n.mute(e,t)}}),n;if(void 0===t){if("boolean"!=typeof e)return n._muted;n._muted=e}for(var r=n._getSoundIds(t),i=0;i<r.length;i++){var o=n._soundById(r[i]);o&&(o._muted=e,o._interval&&n._stopFade(o._id),n._webAudio&&o._node?o._node.gain.setValueAtTime(e?0:o._volume,s.ctx.currentTime):o._node&&(o._node.muted=!!s._muted||e),n._emit("mute",o._id))}return n},volume:function(){var e,t,n,r=this,i=arguments;if(0===i.length)return r._volume;if(1===i.length||2===i.length&&void 0===i[1]?r._getSoundIds().indexOf(i[0])>=0?t=parseInt(i[0],10):e=parseFloat(i[0]):i.length>=2&&(e=parseFloat(i[0]),t=parseInt(i[1],10)),void 0===e||!(e>=0)||!(e<=1))return(n=t?r._soundById(t):r._sounds[0])?n._volume:0;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"volume",action:function(){r.volume.apply(r,i)}}),r;void 0===t&&(r._volume=e),t=r._getSoundIds(t);for(var o=0;o<t.length;o++)(n=r._soundById(t[o]))&&(n._volume=e,i[2]||r._stopFade(t[o]),r._webAudio&&n._node&&!n._muted?n._node.gain.setValueAtTime(e,s.ctx.currentTime):n._node&&!n._muted&&(n._node.volume=e*s.volume()),r._emit("volume",n._id));return r},fade:function(e,t,n,r){var i=this;if("loaded"!==i._state||i._playLock)return i._queue.push({event:"fade",action:function(){i.fade(e,t,n,r)}}),i;e=Math.min(Math.max(0,parseFloat(e)),1),t=Math.min(Math.max(0,parseFloat(t)),1),n=parseFloat(n),i.volume(e,r);for(var o=i._getSoundIds(r),a=0;a<o.length;a++){var u=i._soundById(o[a]);if(u){if(r||i._stopFade(o[a]),i._webAudio&&!u._muted){var l=s.ctx.currentTime,c=l+n/1e3;u._volume=e,u._node.gain.setValueAtTime(e,l),u._node.gain.linearRampToValueAtTime(t,c)}i._startFadeInterval(u,e,t,n,o[a],void 0===r)}}return i},_startFadeInterval:function(e,t,n,r,i,s){var o=this,a=t,u=n-t,l=Math.abs(u/.01),c=Date.now();e._fadeTo=n,e._interval=setInterval(function(){var i=(Date.now()-c)/r;c=Date.now(),a+=u*i,a=Math.round(100*a)/100,a=u<0?Math.max(n,a):Math.min(n,a),o._webAudio?e._volume=a:o.volume(a,e._id,!0),s&&(o._volume=a),(n<t&&a<=n||n>t&&a>=n)&&(clearInterval(e._interval),e._interval=null,e._fadeTo=null,o.volume(n,e._id),o._emit("fade",e._id))},Math.max(4,l>0?r/l:r))},_stopFade:function(e){var t=this._soundById(e);return t&&t._interval&&(this._webAudio&&t._node.gain.cancelScheduledValues(s.ctx.currentTime),clearInterval(t._interval),t._interval=null,this.volume(t._fadeTo,e),t._fadeTo=null,this._emit("fade",e)),this},loop:function(){var e,t,n,r=arguments;if(0===r.length)return this._loop;if(1===r.length){if("boolean"!=typeof r[0])return!!(n=this._soundById(parseInt(r[0],10)))&&n._loop;e=r[0],this._loop=e}else 2===r.length&&(e=r[0],t=parseInt(r[1],10));for(var i=this._getSoundIds(t),s=0;s<i.length;s++)(n=this._soundById(i[s]))&&(n._loop=e,this._webAudio&&n._node&&n._node.bufferSource&&(n._node.bufferSource.loop=e,e&&(n._node.bufferSource.loopStart=n._start||0,n._node.bufferSource.loopEnd=n._stop,this.playing(i[s])&&(this.pause(i[s],!0),this.play(i[s],!0)))));return this},rate:function(){var e,t,n,r=this,i=arguments;if(0===i.length?t=r._sounds[0]._id:1===i.length?r._getSoundIds().indexOf(i[0])>=0?t=parseInt(i[0],10):e=parseFloat(i[0]):2===i.length&&(e=parseFloat(i[0]),t=parseInt(i[1],10)),"number"!=typeof e)return(n=r._soundById(t))?n._rate:r._rate;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"rate",action:function(){r.rate.apply(r,i)}}),r;void 0===t&&(r._rate=e),t=r._getSoundIds(t);for(var o=0;o<t.length;o++)if(n=r._soundById(t[o])){r.playing(t[o])&&(n._rateSeek=r.seek(t[o]),n._playStart=r._webAudio?s.ctx.currentTime:n._playStart),n._rate=e,r._webAudio&&n._node&&n._node.bufferSource?n._node.bufferSource.playbackRate.setValueAtTime(e,s.ctx.currentTime):n._node&&(n._node.playbackRate=e);var a=r.seek(t[o]),u=1e3*((r._sprite[n._sprite][0]+r._sprite[n._sprite][1])/1e3-a)/Math.abs(n._rate);(r._endTimers[t[o]]||!n._paused)&&(r._clearTimer(t[o]),r._endTimers[t[o]]=setTimeout(r._ended.bind(r,n),u)),r._emit("rate",n._id)}return r},seek:function(){var e,t,n=this,r=arguments;if(0===r.length?n._sounds.length&&(t=n._sounds[0]._id):1===r.length?n._getSoundIds().indexOf(r[0])>=0?t=parseInt(r[0],10):n._sounds.length&&(t=n._sounds[0]._id,e=parseFloat(r[0])):2===r.length&&(e=parseFloat(r[0]),t=parseInt(r[1],10)),void 0===t)return 0;if("number"==typeof e&&("loaded"!==n._state||n._playLock))return n._queue.push({event:"seek",action:function(){n.seek.apply(n,r)}}),n;var i=n._soundById(t);if(i){if("number"==typeof e&&e>=0){var o=n.playing(t);o&&n.pause(t,!0),i._seek=e,i._ended=!1,n._clearTimer(t),n._webAudio||!i._node||isNaN(i._node.duration)||(i._node.currentTime=e);var a=function(){o&&n.play(t,!0),n._emit("seek",t)};if(o&&!n._webAudio){var u=function(){n._playLock?setTimeout(u,0):a()};setTimeout(u,0)}else a()}else{if(!n._webAudio)return i._node.currentTime;var l=n.playing(t)?s.ctx.currentTime-i._playStart:0,c=i._rateSeek?i._rateSeek-i._seek:0;return i._seek+(c+l*Math.abs(i._rate))}}return n},playing:function(e){if("number"==typeof e){var t=this._soundById(e);return!!t&&!t._paused}for(var n=0;n<this._sounds.length;n++)if(!this._sounds[n]._paused)return!0;return!1},duration:function(e){var t=this._duration,n=this._soundById(e);return n&&(t=this._sprite[n._sprite][1]/1e3),t},state:function(){return this._state},unload:function(){for(var e=this,t=e._sounds,n=0;n<t.length;n++)t[n]._paused||e.stop(t[n]._id),e._webAudio||(e._clearSound(t[n]._node),t[n]._node.removeEventListener("error",t[n]._errorFn,!1),t[n]._node.removeEventListener(s._canPlayEvent,t[n]._loadFn,!1),t[n]._node.removeEventListener("ended",t[n]._endFn,!1),s._releaseHtml5Audio(t[n]._node)),delete t[n]._node,e._clearTimer(t[n]._id);var r=s._howls.indexOf(e);r>=0&&s._howls.splice(r,1);var i=!0;for(n=0;n<s._howls.length;n++)if(s._howls[n]._src===e._src||e._src.indexOf(s._howls[n]._src)>=0){i=!1;break}return u&&i&&delete u[e._src],s.noAudio=!1,e._state="unloaded",e._sounds=[],e=null,null},on:function(e,t,n,r){var i=this["_on"+e];return"function"==typeof t&&i.push(r?{id:n,fn:t,once:r}:{id:n,fn:t}),this},off:function(e,t,n){var r=this["_on"+e],i=0;if("number"==typeof t&&(n=t,t=null),t||n)for(i=0;i<r.length;i++){var s=n===r[i].id;if(t===r[i].fn&&s||!t&&s){r.splice(i,1);break}}else if(e)this["_on"+e]=[];else{var o=Object.keys(this);for(i=0;i<o.length;i++)0===o[i].indexOf("_on")&&Array.isArray(this[o[i]])&&(this[o[i]]=[])}return this},once:function(e,t,n){return this.on(e,t,n,1),this},_emit:function(e,t,n){for(var r=this["_on"+e],i=r.length-1;i>=0;i--)(!r[i].id||r[i].id===t||"load"===e)&&(setTimeout((function(e){e.call(this,t,n)}).bind(this,r[i].fn),0),r[i].once&&this.off(e,r[i].fn,r[i].id));return this._loadQueue(e),this},_loadQueue:function(e){if(this._queue.length>0){var t=this._queue[0];t.event===e&&(this._queue.shift(),this._loadQueue()),e||t.action()}return this},_ended:function(e){var t=e._sprite;if(!this._webAudio&&e._node&&!e._node.paused&&!e._node.ended&&e._node.currentTime<e._stop)return setTimeout(this._ended.bind(this,e),100),this;var n=!!(e._loop||this._sprite[t][2]);if(this._emit("end",e._id),!this._webAudio&&n&&this.stop(e._id,!0).play(e._id),this._webAudio&&n){this._emit("play",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=s.ctx.currentTime;var r=(e._stop-e._start)*1e3/Math.abs(e._rate);this._endTimers[e._id]=setTimeout(this._ended.bind(this,e),r)}return this._webAudio&&!n&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,this._clearTimer(e._id),this._cleanBuffer(e._node),s._autoSuspend()),this._webAudio||n||this.stop(e._id,!0),this},_clearTimer:function(e){if(this._endTimers[e]){if("function"!=typeof this._endTimers[e])clearTimeout(this._endTimers[e]);else{var t=this._soundById(e);t&&t._node&&t._node.removeEventListener("ended",this._endTimers[e],!1)}delete this._endTimers[e]}return this},_soundById:function(e){for(var t=0;t<this._sounds.length;t++)if(e===this._sounds[t]._id)return this._sounds[t];return null},_inactiveSound:function(){this._drain();for(var e=0;e<this._sounds.length;e++)if(this._sounds[e]._ended)return this._sounds[e].reset();return new a(this)},_drain:function(){var e=this._pool,t=0,n=0;if(!(this._sounds.length<e)){for(n=0;n<this._sounds.length;n++)this._sounds[n]._ended&&t++;for(n=this._sounds.length-1;n>=0;n--){if(t<=e)return;this._sounds[n]._ended&&(this._webAudio&&this._sounds[n]._node&&this._sounds[n]._node.disconnect(0),this._sounds.splice(n,1),t--)}}},_getSoundIds:function(e){if(void 0!==e)return[e];for(var t=[],n=0;n<this._sounds.length;n++)t.push(this._sounds[n]._id);return t},_refreshBuffer:function(e){return e._node.bufferSource=s.ctx.createBufferSource(),e._node.bufferSource.buffer=u[this._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop||0),e._node.bufferSource.playbackRate.setValueAtTime(e._rate,s.ctx.currentTime),this},_cleanBuffer:function(e){var t=s._navigator&&s._navigator.vendor.indexOf("Apple")>=0;if(!e.bufferSource)return this;if(s._scratchBuffer&&e.bufferSource&&(e.bufferSource.onended=null,e.bufferSource.disconnect(0),t))try{e.bufferSource.buffer=s._scratchBuffer}catch(e){}return e.bufferSource=null,this},_clearSound:function(e){/MSIE |Trident\//.test(s._navigator&&s._navigator.userAgent)||(e.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}},(a=function(e){this._parent=e,this.init()}).prototype={init:function(){var e=this._parent;return this._muted=e._muted,this._loop=e._loop,this._volume=e._volume,this._rate=e._rate,this._seek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++s._counter,e._sounds.push(this),this.create(),this},create:function(){var e=this._parent,t=s._muted||this._muted||this._parent._muted?0:this._volume;return e._webAudio?(this._node=void 0===s.ctx.createGain?s.ctx.createGainNode():s.ctx.createGain(),this._node.gain.setValueAtTime(t,s.ctx.currentTime),this._node.paused=!0,this._node.connect(s.masterGain)):s.noAudio||(this._node=s._obtainHtml5Audio(),this._errorFn=this._errorListener.bind(this),this._node.addEventListener("error",this._errorFn,!1),this._loadFn=this._loadListener.bind(this),this._node.addEventListener(s._canPlayEvent,this._loadFn,!1),this._endFn=this._endListener.bind(this),this._node.addEventListener("ended",this._endFn,!1),this._node.src=e._src,this._node.preload=!0===e._preload?"auto":e._preload,this._node.volume=t*s.volume(),this._node.load()),this},reset:function(){var e=this._parent;return this._muted=e._muted,this._loop=e._loop,this._volume=e._volume,this._rate=e._rate,this._seek=0,this._rateSeek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++s._counter,this},_errorListener:function(){this._parent._emit("loaderror",this._id,this._node.error?this._node.error.code:0),this._node.removeEventListener("error",this._errorFn,!1)},_loadListener:function(){var e=this._parent;e._duration=Math.ceil(10*this._node.duration)/10,0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue()),this._node.removeEventListener(s._canPlayEvent,this._loadFn,!1)},_endListener:function(){var e=this._parent;e._duration===1/0&&(e._duration=Math.ceil(10*this._node.duration)/10,e._sprite.__default[1]===1/0&&(e._sprite.__default[1]=1e3*e._duration),e._ended(this)),this._node.removeEventListener("ended",this._endFn,!1)}},u={},l=function(e){var t=e._src;if(u[t]){e._duration=u[t].duration,h(e);return}if(/^data:[^;]+;base64,/.test(t)){for(var n=atob(t.split(",")[1]),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);d(r.buffer,e)}else{var s=new XMLHttpRequest;s.open(e._xhr.method,t,!0),s.withCredentials=e._xhr.withCredentials,s.responseType="arraybuffer",e._xhr.headers&&Object.keys(e._xhr.headers).forEach(function(t){s.setRequestHeader(t,e._xhr.headers[t])}),s.onload=function(){var t=(s.status+"")[0];if("0"!==t&&"2"!==t&&"3"!==t){e._emit("loaderror",null,"Failed loading audio file with status: "+s.status+".");return}d(s.response,e)},s.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete u[t],e.load())},c(s)}},c=function(e){try{e.send()}catch(t){e.onerror()}},d=function(e,t){var n=function(){t._emit("loaderror",null,"Decoding audio data failed.")},r=function(e){e&&t._sounds.length>0?(u[t._src]=e,h(t,e)):n()};"undefined"!=typeof Promise&&1===s.ctx.decodeAudioData.length?s.ctx.decodeAudioData(e).then(r).catch(n):s.ctx.decodeAudioData(e,r,n)},h=function(e,t){t&&!e._duration&&(e._duration=t.duration),0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue())},p=function(){if(s.usingWebAudio){try{"undefined"!=typeof AudioContext?s.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?s.ctx=new webkitAudioContext:s.usingWebAudio=!1}catch(e){s.usingWebAudio=!1}s.ctx||(s.usingWebAudio=!1);var e=/iP(hone|od|ad)/.test(s._navigator&&s._navigator.platform),t=s._navigator&&s._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),n=t?parseInt(t[1],10):null;if(e&&n&&n<9){var r=/safari/.test(s._navigator&&s._navigator.userAgent.toLowerCase());s._navigator&&!r&&(s.usingWebAudio=!1)}s.usingWebAudio&&(s.masterGain=void 0===s.ctx.createGain?s.ctx.createGainNode():s.ctx.createGain(),s.masterGain.gain.setValueAtTime(s._muted?0:s._volume,s.ctx.currentTime),s.masterGain.connect(s.ctx.destination)),s._setup()}},void 0!==(r=(function(){return{Howler:s,Howl:o}}).apply(t,[]))&&(e.exports=r),t.Howler=s,t.Howl=o,void 0!==n.g?(n.g.HowlerGlobal=i,n.g.Howler=s,n.g.Howl=o,n.g.Sound=a):"undefined"!=typeof window&&(window.HowlerGlobal=i,window.Howler=s,window.Howl=o,window.Sound=a),HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(e){if(!this.ctx||!this.ctx.listener)return this;for(var t=this._howls.length-1;t>=0;t--)this._howls[t].stereo(e);return this},HowlerGlobal.prototype.pos=function(e,t,n){return this.ctx&&this.ctx.listener?(t="number"!=typeof t?this._pos[1]:t,n="number"!=typeof n?this._pos[2]:n,"number"!=typeof e)?this._pos:(this._pos=[e,t,n],void 0!==this.ctx.listener.positionX?(this.ctx.listener.positionX.setTargetAtTime(this._pos[0],Howler.ctx.currentTime,.1),this.ctx.listener.positionY.setTargetAtTime(this._pos[1],Howler.ctx.currentTime,.1),this.ctx.listener.positionZ.setTargetAtTime(this._pos[2],Howler.ctx.currentTime,.1)):this.ctx.listener.setPosition(this._pos[0],this._pos[1],this._pos[2]),this):this},HowlerGlobal.prototype.orientation=function(e,t,n,r,i,s){if(!this.ctx||!this.ctx.listener)return this;var o=this._orientation;return(t="number"!=typeof t?o[1]:t,n="number"!=typeof n?o[2]:n,r="number"!=typeof r?o[3]:r,i="number"!=typeof i?o[4]:i,s="number"!=typeof s?o[5]:s,"number"!=typeof e)?o:(this._orientation=[e,t,n,r,i,s],void 0!==this.ctx.listener.forwardX?(this.ctx.listener.forwardX.setTargetAtTime(e,Howler.ctx.currentTime,.1),this.ctx.listener.forwardY.setTargetAtTime(t,Howler.ctx.currentTime,.1),this.ctx.listener.forwardZ.setTargetAtTime(n,Howler.ctx.currentTime,.1),this.ctx.listener.upX.setTargetAtTime(r,Howler.ctx.currentTime,.1),this.ctx.listener.upY.setTargetAtTime(i,Howler.ctx.currentTime,.1),this.ctx.listener.upZ.setTargetAtTime(s,Howler.ctx.currentTime,.1)):this.ctx.listener.setOrientation(e,t,n,r,i,s),this)},Howl.prototype.init=(f=Howl.prototype.init,function(e){return this._orientation=e.orientation||[1,0,0],this._stereo=e.stereo||null,this._pos=e.pos||null,this._pannerAttr={coneInnerAngle:void 0!==e.coneInnerAngle?e.coneInnerAngle:360,coneOuterAngle:void 0!==e.coneOuterAngle?e.coneOuterAngle:360,coneOuterGain:void 0!==e.coneOuterGain?e.coneOuterGain:0,distanceModel:void 0!==e.distanceModel?e.distanceModel:"inverse",maxDistance:void 0!==e.maxDistance?e.maxDistance:1e4,panningModel:void 0!==e.panningModel?e.panningModel:"HRTF",refDistance:void 0!==e.refDistance?e.refDistance:1,rolloffFactor:void 0!==e.rolloffFactor?e.rolloffFactor:1},this._onstereo=e.onstereo?[{fn:e.onstereo}]:[],this._onpos=e.onpos?[{fn:e.onpos}]:[],this._onorientation=e.onorientation?[{fn:e.onorientation}]:[],f.call(this,e)}),Howl.prototype.stereo=function(e,t){var n=this;if(!n._webAudio)return n;if("loaded"!==n._state)return n._queue.push({event:"stereo",action:function(){n.stereo(e,t)}}),n;var r=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===t){if("number"!=typeof e)return n._stereo;n._stereo=e,n._pos=[e,0,0]}for(var i=n._getSoundIds(t),s=0;s<i.length;s++){var o=n._soundById(i[s]);if(o){if("number"!=typeof e)return o._stereo;o._stereo=e,o._pos=[e,0,0],o._node&&(o._pannerAttr.panningModel="equalpower",o._panner&&o._panner.pan||g(o,r),"spatial"===r?void 0!==o._panner.positionX?(o._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),o._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),o._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):o._panner.setPosition(e,0,0):o._panner.pan.setValueAtTime(e,Howler.ctx.currentTime)),n._emit("stereo",o._id)}}return n},Howl.prototype.pos=function(e,t,n,r){var i=this;if(!i._webAudio)return i;if("loaded"!==i._state)return i._queue.push({event:"pos",action:function(){i.pos(e,t,n,r)}}),i;if(t="number"!=typeof t?0:t,n="number"!=typeof n?-.5:n,void 0===r){if("number"!=typeof e)return i._pos;i._pos=[e,t,n]}for(var s=i._getSoundIds(r),o=0;o<s.length;o++){var a=i._soundById(s[o]);if(a){if("number"!=typeof e)return a._pos;a._pos=[e,t,n],a._node&&((!a._panner||a._panner.pan)&&g(a,"spatial"),void 0!==a._panner.positionX?(a._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),a._panner.positionY.setValueAtTime(t,Howler.ctx.currentTime),a._panner.positionZ.setValueAtTime(n,Howler.ctx.currentTime)):a._panner.setPosition(e,t,n)),i._emit("pos",a._id)}}return i},Howl.prototype.orientation=function(e,t,n,r){var i=this;if(!i._webAudio)return i;if("loaded"!==i._state)return i._queue.push({event:"orientation",action:function(){i.orientation(e,t,n,r)}}),i;if(t="number"!=typeof t?i._orientation[1]:t,n="number"!=typeof n?i._orientation[2]:n,void 0===r){if("number"!=typeof e)return i._orientation;i._orientation=[e,t,n]}for(var s=i._getSoundIds(r),o=0;o<s.length;o++){var a=i._soundById(s[o]);if(a){if("number"!=typeof e)return a._orientation;a._orientation=[e,t,n],a._node&&(a._panner||(a._pos||(a._pos=i._pos||[0,0,-.5]),g(a,"spatial")),void 0!==a._panner.orientationX?(a._panner.orientationX.setValueAtTime(e,Howler.ctx.currentTime),a._panner.orientationY.setValueAtTime(t,Howler.ctx.currentTime),a._panner.orientationZ.setValueAtTime(n,Howler.ctx.currentTime)):a._panner.setOrientation(e,t,n)),i._emit("orientation",a._id)}}return i},Howl.prototype.pannerAttr=function(){var e,t,n,r=arguments;if(!this._webAudio)return this;if(0===r.length)return this._pannerAttr;if(1===r.length){if("object"!=typeof r[0])return(n=this._soundById(parseInt(r[0],10)))?n._pannerAttr:this._pannerAttr;e=r[0],void 0===t&&(e.pannerAttr||(e.pannerAttr={coneInnerAngle:e.coneInnerAngle,coneOuterAngle:e.coneOuterAngle,coneOuterGain:e.coneOuterGain,distanceModel:e.distanceModel,maxDistance:e.maxDistance,refDistance:e.refDistance,rolloffFactor:e.rolloffFactor,panningModel:e.panningModel}),this._pannerAttr={coneInnerAngle:void 0!==e.pannerAttr.coneInnerAngle?e.pannerAttr.coneInnerAngle:this._coneInnerAngle,coneOuterAngle:void 0!==e.pannerAttr.coneOuterAngle?e.pannerAttr.coneOuterAngle:this._coneOuterAngle,coneOuterGain:void 0!==e.pannerAttr.coneOuterGain?e.pannerAttr.coneOuterGain:this._coneOuterGain,distanceModel:void 0!==e.pannerAttr.distanceModel?e.pannerAttr.distanceModel:this._distanceModel,maxDistance:void 0!==e.pannerAttr.maxDistance?e.pannerAttr.maxDistance:this._maxDistance,refDistance:void 0!==e.pannerAttr.refDistance?e.pannerAttr.refDistance:this._refDistance,rolloffFactor:void 0!==e.pannerAttr.rolloffFactor?e.pannerAttr.rolloffFactor:this._rolloffFactor,panningModel:void 0!==e.pannerAttr.panningModel?e.pannerAttr.panningModel:this._panningModel})}else 2===r.length&&(e=r[0],t=parseInt(r[1],10));for(var i=this._getSoundIds(t),s=0;s<i.length;s++)if(n=this._soundById(i[s])){var o=n._pannerAttr;o={coneInnerAngle:void 0!==e.coneInnerAngle?e.coneInnerAngle:o.coneInnerAngle,coneOuterAngle:void 0!==e.coneOuterAngle?e.coneOuterAngle:o.coneOuterAngle,coneOuterGain:void 0!==e.coneOuterGain?e.coneOuterGain:o.coneOuterGain,distanceModel:void 0!==e.distanceModel?e.distanceModel:o.distanceModel,maxDistance:void 0!==e.maxDistance?e.maxDistance:o.maxDistance,refDistance:void 0!==e.refDistance?e.refDistance:o.refDistance,rolloffFactor:void 0!==e.rolloffFactor?e.rolloffFactor:o.rolloffFactor,panningModel:void 0!==e.panningModel?e.panningModel:o.panningModel};var a=n._panner;a||(n._pos||(n._pos=this._pos||[0,0,-.5]),g(n,"spatial"),a=n._panner),a.coneInnerAngle=o.coneInnerAngle,a.coneOuterAngle=o.coneOuterAngle,a.coneOuterGain=o.coneOuterGain,a.distanceModel=o.distanceModel,a.maxDistance=o.maxDistance,a.refDistance=o.refDistance,a.rolloffFactor=o.rolloffFactor,a.panningModel=o.panningModel}return this},Sound.prototype.init=(_=Sound.prototype.init,function(){var e=this._parent;this._orientation=e._orientation,this._stereo=e._stereo,this._pos=e._pos,this._pannerAttr=e._pannerAttr,_.call(this),this._stereo?e.stereo(this._stereo):this._pos&&e.pos(this._pos[0],this._pos[1],this._pos[2],this._id)}),Sound.prototype.reset=(m=Sound.prototype.reset,function(){var e=this._parent;return this._orientation=e._orientation,this._stereo=e._stereo,this._pos=e._pos,this._pannerAttr=e._pannerAttr,this._stereo?e.stereo(this._stereo):this._pos?e.pos(this._pos[0],this._pos[1],this._pos[2],this._id):this._panner&&(this._panner.disconnect(0),this._panner=void 0,e._refreshBuffer(this)),m.call(this)}),g=function(e,t){"spatial"===(t=t||"spatial")?(e._panner=Howler.ctx.createPanner(),e._panner.coneInnerAngle=e._pannerAttr.coneInnerAngle,e._panner.coneOuterAngle=e._pannerAttr.coneOuterAngle,e._panner.coneOuterGain=e._pannerAttr.coneOuterGain,e._panner.distanceModel=e._pannerAttr.distanceModel,e._panner.maxDistance=e._pannerAttr.maxDistance,e._panner.refDistance=e._pannerAttr.refDistance,e._panner.rolloffFactor=e._pannerAttr.rolloffFactor,e._panner.panningModel=e._pannerAttr.panningModel,void 0!==e._panner.positionX?(e._panner.positionX.setValueAtTime(e._pos[0],Howler.ctx.currentTime),e._panner.positionY.setValueAtTime(e._pos[1],Howler.ctx.currentTime),e._panner.positionZ.setValueAtTime(e._pos[2],Howler.ctx.currentTime)):e._panner.setPosition(e._pos[0],e._pos[1],e._pos[2]),void 0!==e._panner.orientationX?(e._panner.orientationX.setValueAtTime(e._orientation[0],Howler.ctx.currentTime),e._panner.orientationY.setValueAtTime(e._orientation[1],Howler.ctx.currentTime),e._panner.orientationZ.setValueAtTime(e._orientation[2],Howler.ctx.currentTime)):e._panner.setOrientation(e._orientation[0],e._orientation[1],e._orientation[2])):(e._panner=Howler.ctx.createStereoPanner(),e._panner.pan.setValueAtTime(e._stereo,Howler.ctx.currentTime)),e._panner.connect(e._node),e._paused||e._parent.pause(e._id,!0).play(e._id,!0)}},1685:function(e,t,n){"use strict";var r=n(6905),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,s={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:c,props:s,_owner:a.current}}t.Fragment=s,t.jsx=l,t.jsxs=l},1670:function(e,t,n){"use strict";e.exports=n(1685)},8808:function(e,t,n){"use strict";n.d(t,{J:function(){return i}});var r=n(7486);class i extends r.aNw{constructor(e){super(e)}load(e,t,n,i){let s=this,o=new r.hH6(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(e){let n=s.parse(JSON.parse(e));t&&t(n)},n,i)}parse(e){return new s(e)}}class s{constructor(e){this.isFont=!0,this.type="Font",this.data=e}generateShapes(e,t=100){let n=[],i=function(e,t,n){let i=Array.from(e),s=t/n.resolution,o=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*s,a=[],u=0,l=0;for(let e=0;e<i.length;e++){let t=i[e];if("\n"===t)u=0,l-=o;else{let e=function(e,t,n,i,s){let o,a,u,l,c,d,h,p;let f=s.glyphs[e]||s.glyphs["?"];if(!f){console.error('THREE.Font: character "'+e+'" does not exists in font family '+s.familyName+".");return}let _=new r.T_1;if(f.o){let e=f._cachedOutline||(f._cachedOutline=f.o.split(" "));for(let r=0,s=e.length;r<s;)switch(e[r++]){case"m":o=e[r++]*t+n,a=e[r++]*t+i,_.moveTo(o,a);break;case"l":o=e[r++]*t+n,a=e[r++]*t+i,_.lineTo(o,a);break;case"q":u=e[r++]*t+n,l=e[r++]*t+i,c=e[r++]*t+n,d=e[r++]*t+i,_.quadraticCurveTo(c,d,u,l);break;case"b":u=e[r++]*t+n,l=e[r++]*t+i,c=e[r++]*t+n,d=e[r++]*t+i,h=e[r++]*t+n,p=e[r++]*t+i,_.bezierCurveTo(c,d,h,p,u,l)}}return{offsetX:f.ha*t,path:_}}(t,s,u,l,n);u+=e.offsetX,a.push(e.path)}}return a}(e,t,this.data);for(let e=0,t=i.length;e<t;e++)n.push(...i[e].toShapes());return n}}},8979:function(e,t,n){"use strict";n.d(t,{E:function(){return s}});var r=n(7486);function i(e,t){if(t===r.WwZ)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),e;if(t!==r.z$h&&t!==r.UlW)return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",t),e;{let n=e.getIndex();if(null===n){let t=[],r=e.getAttribute("position");if(void 0===r)return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(let e=0;e<r.count;e++)t.push(e);e.setIndex(t),n=e.getIndex()}let i=n.count-2,s=[];if(t===r.z$h)for(let e=1;e<=i;e++)s.push(n.getX(0)),s.push(n.getX(e)),s.push(n.getX(e+1));else for(let e=0;e<i;e++)e%2==0?(s.push(n.getX(e)),s.push(n.getX(e+1)),s.push(n.getX(e+2))):(s.push(n.getX(e+2)),s.push(n.getX(e+1)),s.push(n.getX(e)));s.length/3!==i&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");let o=e.clone();return o.setIndex(s),o.clearGroups(),o}}class s extends r.aNw{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(e){return new d(e)}),this.register(function(e){return new x(e)}),this.register(function(e){return new y(e)}),this.register(function(e){return new T(e)}),this.register(function(e){return new p(e)}),this.register(function(e){return new f(e)}),this.register(function(e){return new _(e)}),this.register(function(e){return new m(e)}),this.register(function(e){return new c(e)}),this.register(function(e){return new g(e)}),this.register(function(e){return new h(e)}),this.register(function(e){return new v(e)}),this.register(function(e){return new A(e)}),this.register(function(e){return new u(e)}),this.register(function(e){return new w(e)}),this.register(function(e){return new b(e)})}load(e,t,n,i){let s;let o=this;if(""!==this.resourcePath)s=this.resourcePath;else if(""!==this.path){let t=r.Zp0.extractUrlBase(e);s=r.Zp0.resolveURL(t,this.path)}else s=r.Zp0.extractUrlBase(e);this.manager.itemStart(e);let a=function(t){i?i(t):console.error(t),o.manager.itemError(e),o.manager.itemEnd(e)},u=new r.hH6(this.manager);u.setPath(this.path),u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setWithCredentials(this.withCredentials),u.load(e,function(n){try{o.parse(n,s,function(n){t(n),o.manager.itemEnd(e)},a)}catch(e){a(e)}},n,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return -1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this}unregister(e){return -1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,n,r){let i;let s={},o={},u=new TextDecoder;if("string"==typeof e)i=JSON.parse(e);else if(e instanceof ArrayBuffer){if(u.decode(new Uint8Array(e,0,4))===S){try{s[a.KHR_BINARY_GLTF]=new R(e)}catch(e){r&&r(e);return}i=JSON.parse(s[a.KHR_BINARY_GLTF].content)}else i=JSON.parse(u.decode(e))}else i=e;if(void 0===i.asset||i.asset.version[0]<2){r&&r(Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}let c=new W(i,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});c.fileLoader.setRequestHeader(this.requestHeader);for(let e=0;e<this.pluginCallbacks.length;e++){let t=this.pluginCallbacks[e](c);t.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),o[t.name]=t,s[t.name]=!0}if(i.extensionsUsed)for(let e=0;e<i.extensionsUsed.length;++e){let t=i.extensionsUsed[e],n=i.extensionsRequired||[];switch(t){case a.KHR_MATERIALS_UNLIT:s[t]=new l;break;case a.KHR_DRACO_MESH_COMPRESSION:s[t]=new I(i,this.dracoLoader);break;case a.KHR_TEXTURE_TRANSFORM:s[t]=new O;break;case a.KHR_MESH_QUANTIZATION:s[t]=new M;break;default:n.indexOf(t)>=0&&void 0===o[t]&&console.warn('THREE.GLTFLoader: Unknown extension "'+t+'".')}}c.setExtensions(s),c.setPlugins(o),c.parse(n,r)}parseAsync(e,t){let n=this;return new Promise(function(r,i){n.parse(e,t,r,i)})}}function o(){let e={};return{get:function(t){return e[t]},add:function(t,n){e[t]=n},remove:function(t){delete e[t]},removeAll:function(){e={}}}}let a={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class u{constructor(e){this.parser=e,this.name=a.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){let e=this.parser,t=this.parser.json.nodes||[];for(let n=0,r=t.length;n<r;n++){let r=t[n];r.extensions&&r.extensions[this.name]&&void 0!==r.extensions[this.name].light&&e._addNodeRef(this.cache,r.extensions[this.name].light)}}_loadLight(e){let t;let n=this.parser,i="light:"+e,s=n.cache.get(i);if(s)return s;let o=n.json,a=((o.extensions&&o.extensions[this.name]||{}).lights||[])[e],u=new r.Ilk(16777215);void 0!==a.color&&u.setRGB(a.color[0],a.color[1],a.color[2],r.GUF);let l=void 0!==a.range?a.range:0;switch(a.type){case"directional":(t=new r.Ox3(u)).target.position.set(0,0,-1),t.add(t.target);break;case"point":(t=new r.cek(u)).distance=l;break;case"spot":(t=new r.PMe(u)).distance=l,a.spot=a.spot||{},a.spot.innerConeAngle=void 0!==a.spot.innerConeAngle?a.spot.innerConeAngle:0,a.spot.outerConeAngle=void 0!==a.spot.outerConeAngle?a.spot.outerConeAngle:Math.PI/4,t.angle=a.spot.outerConeAngle,t.penumbra=1-a.spot.innerConeAngle/a.spot.outerConeAngle,t.target.position.set(0,0,-1),t.add(t.target);break;default:throw Error("THREE.GLTFLoader: Unexpected light type: "+a.type)}return t.position.set(0,0,0),t.decay=2,V(t,a),void 0!==a.intensity&&(t.intensity=a.intensity),t.name=n.createUniqueName(a.name||"light_"+e),s=Promise.resolve(t),n.cache.add(i,s),s}getDependency(e,t){if("light"===e)return this._loadLight(t)}createNodeAttachment(e){let t=this,n=this.parser,r=n.json.nodes[e],i=(r.extensions&&r.extensions[this.name]||{}).light;return void 0===i?null:this._loadLight(i).then(function(e){return n._getNodeRef(t.cache,i,e)})}}class l{constructor(){this.name=a.KHR_MATERIALS_UNLIT}getMaterialType(){return r.vBJ}extendParams(e,t,n){let i=[];e.color=new r.Ilk(1,1,1),e.opacity=1;let s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){let t=s.baseColorFactor;e.color.setRGB(t[0],t[1],t[2],r.GUF),e.opacity=t[3]}void 0!==s.baseColorTexture&&i.push(n.assignTexture(e,"map",s.baseColorTexture,r.KI_))}return Promise.all(i)}}class c{constructor(e){this.parser=e,this.name=a.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){let n=this.parser.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();let r=n.extensions[this.name].emissiveStrength;return void 0!==r&&(t.emissiveIntensity=r),Promise.resolve()}}class d{constructor(e){this.parser=e,this.name=a.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){let t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?r.EJi:null}extendMaterialParams(e,t){let n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();let s=[],o=i.extensions[this.name];if(void 0!==o.clearcoatFactor&&(t.clearcoat=o.clearcoatFactor),void 0!==o.clearcoatTexture&&s.push(n.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),void 0!==o.clearcoatRoughnessFactor&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),void 0!==o.clearcoatRoughnessTexture&&s.push(n.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),void 0!==o.clearcoatNormalTexture&&(s.push(n.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),void 0!==o.clearcoatNormalTexture.scale)){let e=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new r.FM8(e,e)}return Promise.all(s)}}class h{constructor(e){this.parser=e,this.name=a.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){let t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?r.EJi:null}extendMaterialParams(e,t){let n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();let i=[],s=r.extensions[this.name];return void 0!==s.iridescenceFactor&&(t.iridescence=s.iridescenceFactor),void 0!==s.iridescenceTexture&&i.push(n.assignTexture(t,"iridescenceMap",s.iridescenceTexture)),void 0!==s.iridescenceIor&&(t.iridescenceIOR=s.iridescenceIor),void 0===t.iridescenceThicknessRange&&(t.iridescenceThicknessRange=[100,400]),void 0!==s.iridescenceThicknessMinimum&&(t.iridescenceThicknessRange[0]=s.iridescenceThicknessMinimum),void 0!==s.iridescenceThicknessMaximum&&(t.iridescenceThicknessRange[1]=s.iridescenceThicknessMaximum),void 0!==s.iridescenceThicknessTexture&&i.push(n.assignTexture(t,"iridescenceThicknessMap",s.iridescenceThicknessTexture)),Promise.all(i)}}class p{constructor(e){this.parser=e,this.name=a.KHR_MATERIALS_SHEEN}getMaterialType(e){let t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?r.EJi:null}extendMaterialParams(e,t){let n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();let s=[];t.sheenColor=new r.Ilk(0,0,0),t.sheenRoughness=0,t.sheen=1;let o=i.extensions[this.name];if(void 0!==o.sheenColorFactor){let e=o.sheenColorFactor;t.sheenColor.setRGB(e[0],e[1],e[2],r.GUF)}return void 0!==o.sheenRoughnessFactor&&(t.sheenRoughness=o.sheenRoughnessFactor),void 0!==o.sheenColorTexture&&s.push(n.assignTexture(t,"sheenColorMap",o.sheenColorTexture,r.KI_)),void 0!==o.sheenRoughnessTexture&&s.push(n.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class f{constructor(e){this.parser=e,this.name=a.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){let t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?r.EJi:null}extendMaterialParams(e,t){let n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();let i=[],s=r.extensions[this.name];return void 0!==s.transmissionFactor&&(t.transmission=s.transmissionFactor),void 0!==s.transmissionTexture&&i.push(n.assignTexture(t,"transmissionMap",s.transmissionTexture)),Promise.all(i)}}class _{constructor(e){this.parser=e,this.name=a.KHR_MATERIALS_VOLUME}getMaterialType(e){let t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?r.EJi:null}extendMaterialParams(e,t){let n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();let s=[],o=i.extensions[this.name];t.thickness=void 0!==o.thicknessFactor?o.thicknessFactor:0,void 0!==o.thicknessTexture&&s.push(n.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;let a=o.attenuationColor||[1,1,1];return t.attenuationColor=new r.Ilk().setRGB(a[0],a[1],a[2],r.GUF),Promise.all(s)}}class m{constructor(e){this.parser=e,this.name=a.KHR_MATERIALS_IOR}getMaterialType(e){let t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?r.EJi:null}extendMaterialParams(e,t){let n=this.parser.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();let r=n.extensions[this.name];return t.ior=void 0!==r.ior?r.ior:1.5,Promise.resolve()}}class g{constructor(e){this.parser=e,this.name=a.KHR_MATERIALS_SPECULAR}getMaterialType(e){let t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?r.EJi:null}extendMaterialParams(e,t){let n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();let s=[],o=i.extensions[this.name];t.specularIntensity=void 0!==o.specularFactor?o.specularFactor:1,void 0!==o.specularTexture&&s.push(n.assignTexture(t,"specularIntensityMap",o.specularTexture));let a=o.specularColorFactor||[1,1,1];return t.specularColor=new r.Ilk().setRGB(a[0],a[1],a[2],r.GUF),void 0!==o.specularColorTexture&&s.push(n.assignTexture(t,"specularColorMap",o.specularColorTexture,r.KI_)),Promise.all(s)}}class A{constructor(e){this.parser=e,this.name=a.EXT_MATERIALS_BUMP}getMaterialType(e){let t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?r.EJi:null}extendMaterialParams(e,t){let n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();let i=[],s=r.extensions[this.name];return t.bumpScale=void 0!==s.bumpFactor?s.bumpFactor:1,void 0!==s.bumpTexture&&i.push(n.assignTexture(t,"bumpMap",s.bumpTexture)),Promise.all(i)}}class v{constructor(e){this.parser=e,this.name=a.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){let t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?r.EJi:null}extendMaterialParams(e,t){let n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();let i=[],s=r.extensions[this.name];return void 0!==s.anisotropyStrength&&(t.anisotropy=s.anisotropyStrength),void 0!==s.anisotropyRotation&&(t.anisotropyRotation=s.anisotropyRotation),void 0!==s.anisotropyTexture&&i.push(n.assignTexture(t,"anisotropyMap",s.anisotropyTexture)),Promise.all(i)}}class x{constructor(e){this.parser=e,this.name=a.KHR_TEXTURE_BASISU}loadTexture(e){let t=this.parser,n=t.json,r=n.textures[e];if(!r.extensions||!r.extensions[this.name])return null;let i=r.extensions[this.name],s=t.options.ktx2Loader;if(!s){if(!(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0))return null;throw Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures")}return t.loadTextureImage(e,i.source,s)}}class y{constructor(e){this.parser=e,this.name=a.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){let t=this.name,n=this.parser,r=n.json,i=r.textures[e];if(!i.extensions||!i.extensions[t])return null;let s=i.extensions[t],o=r.images[s.source],a=n.textureLoader;if(o.uri){let e=n.options.manager.getHandler(o.uri);null!==e&&(a=e)}return this.detectSupport().then(function(i){if(i)return n.loadTextureImage(e,s.source,a);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return n.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){let t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(1===t.height)}})),this.isSupported}}class T{constructor(e){this.parser=e,this.name=a.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){let t=this.name,n=this.parser,r=n.json,i=r.textures[e];if(!i.extensions||!i.extensions[t])return null;let s=i.extensions[t],o=r.images[s.source],a=n.textureLoader;if(o.uri){let e=n.options.manager.getHandler(o.uri);null!==e&&(a=e)}return this.detectSupport().then(function(i){if(i)return n.loadTextureImage(e,s.source,a);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return n.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){let t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(1===t.height)}})),this.isSupported}}class w{constructor(e){this.name=a.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){let t=this.parser.json,n=t.bufferViews[e];if(!n.extensions||!n.extensions[this.name])return null;{let e=n.extensions[this.name],r=this.parser.getDependency("buffer",e.buffer),i=this.parser.options.meshoptDecoder;if(!i||!i.supported){if(!(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0))return null;throw Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files")}return r.then(function(t){let n=e.byteOffset||0,r=e.byteLength||0,s=e.count,o=e.byteStride,a=new Uint8Array(t,n,r);return i.decodeGltfBufferAsync?i.decodeGltfBufferAsync(s,o,a,e.mode,e.filter).then(function(e){return e.buffer}):i.ready.then(function(){let t=new ArrayBuffer(s*o);return i.decodeGltfBuffer(new Uint8Array(t),s,o,a,e.mode,e.filter),t})})}}}class b{constructor(e){this.name=a.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){let t=this.parser.json,n=t.nodes[e];if(!n.extensions||!n.extensions[this.name]||void 0===n.mesh)return null;for(let e of t.meshes[n.mesh].primitives)if(e.mode!==F.TRIANGLES&&e.mode!==F.TRIANGLE_STRIP&&e.mode!==F.TRIANGLE_FAN&&void 0!==e.mode)return null;let i=n.extensions[this.name].attributes,s=[],o={};for(let e in i)s.push(this.parser.getDependency("accessor",i[e]).then(t=>(o[e]=t,o[e])));return s.length<1?null:(s.push(this.parser.createNodeMesh(e)),Promise.all(s).then(e=>{let t=e.pop(),n=t.isGroup?t.children:[t],i=e[0].count,s=[];for(let e of n){let t=new r.yGw,n=new r.Pa4,a=new r._fP,u=new r.Pa4(1,1,1),l=new r.SPe(e.geometry,e.material,i);for(let e=0;e<i;e++)o.TRANSLATION&&n.fromBufferAttribute(o.TRANSLATION,e),o.ROTATION&&a.fromBufferAttribute(o.ROTATION,e),o.SCALE&&u.fromBufferAttribute(o.SCALE,e),l.setMatrixAt(e,t.compose(n,a,u));for(let t in o)if("_COLOR_0"===t){let e=o[t];l.instanceColor=new r.lb7(e.array,e.itemSize,e.normalized)}else"TRANSLATION"!==t&&"ROTATION"!==t&&"SCALE"!==t&&e.geometry.setAttribute(t,o[t]);r.Tme.prototype.copy.call(l,e),this.parser.assignFinalMaterial(l),s.push(l)}return t.isGroup?(t.clear(),t.add(...s),t):s[0]}))}}let S="glTF",E={JSON:1313821514,BIN:5130562};class R{constructor(e){this.name=a.KHR_BINARY_GLTF,this.content=null,this.body=null;let t=new DataView(e,0,12),n=new TextDecoder;if(this.header={magic:n.decode(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==S)throw Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw Error("THREE.GLTFLoader: Legacy binary file detected.");let r=this.header.length-12,i=new DataView(e,12),s=0;for(;s<r;){let t=i.getUint32(s,!0);s+=4;let r=i.getUint32(s,!0);if(s+=4,r===E.JSON){let r=new Uint8Array(e,12+s,t);this.content=n.decode(r)}else if(r===E.BIN){let n=12+s;this.body=e.slice(n,n+t)}s+=t}if(null===this.content)throw Error("THREE.GLTFLoader: JSON content not found.")}}class I{constructor(e,t){if(!t)throw Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=a.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){let n=this.json,i=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},u={},l={};for(let e in o)a[D[e]||e.toLowerCase()]=o[e];for(let t in e.attributes){let r=D[t]||t.toLowerCase();if(void 0!==o[t]){let i=n.accessors[e.attributes[t]],s=C[i.componentType];l[r]=s.name,u[r]=!0===i.normalized}}return t.getDependency("bufferView",s).then(function(e){return new Promise(function(t,n){i.decodeDracoFile(e,function(e){for(let t in e.attributes){let n=e.attributes[t],r=u[t];void 0!==r&&(n.normalized=r)}t(e)},a,l,r.GUF,n)})})}}class O{constructor(){this.name=a.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(void 0===t.texCoord||t.texCoord===e.channel)&&void 0===t.offset&&void 0===t.rotation&&void 0===t.scale||(e=e.clone(),void 0!==t.texCoord&&(e.channel=t.texCoord),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class M{constructor(){this.name=a.KHR_MESH_QUANTIZATION}}class P extends r._C8{constructor(e,t,n,r){super(e,t,n,r)}copySampleValue_(e){let t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r*3+r;for(let e=0;e!==r;e++)t[e]=n[i+e];return t}interpolate_(e,t,n,r){let i=this.resultBuffer,s=this.sampleValues,o=this.valueSize,a=2*o,u=3*o,l=r-t,c=(n-t)/l,d=c*c,h=d*c,p=e*u,f=p-u,_=-2*h+3*d,m=h-d,g=1-_,A=m-d+c;for(let e=0;e!==o;e++){let t=s[f+e+o],n=s[f+e+a]*l,r=s[p+e+o],u=s[p+e]*l;i[e]=g*t+A*n+_*r+m*u}return i}}let L=new r._fP;class k extends P{interpolate_(e,t,n,r){let i=super.interpolate_(e,t,n,r);return L.fromArray(i).normalize().toArray(i),i}}let F={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},C={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},H={9728:r.TyD,9729:r.wem,9984:r.YLQ,9985:r.qyh,9986:r.aH4,9987:r.D1R},N={33071:r.uWy,33648:r.OoA,10497:r.rpg},B={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},D={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},G={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},U={CUBICSPLINE:void 0,LINEAR:r.NMF,STEP:r.Syv},X={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function j(e,t,n){for(let r in n.extensions)void 0===e[r]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[r]=n.extensions[r])}function V(e,t){void 0!==t.extras&&("object"==typeof t.extras?Object.assign(e.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function K(e){let t="",n=Object.keys(e).sort();for(let r=0,i=n.length;r<i;r++)t+=n[r]+":"+e[n[r]]+";";return t}function q(e){switch(e){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}let Y=new r.yGw;class W{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new o,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let n=!1,i=!1,s=-1;"undefined"!=typeof navigator&&(n=!0===/^((?!chrome|android).)*safari/i.test(navigator.userAgent),s=(i=navigator.userAgent.indexOf("Firefox")>-1)?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),"undefined"==typeof createImageBitmap||n||i&&s<98?this.textureLoader=new r.dpR(this.options.manager):this.textureLoader=new r.QRU(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new r.hH6(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){let n=this,r=this.json,i=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(e){return e._markDefs&&e._markDefs()}),Promise.all(this._invokeAll(function(e){return e.beforeRoot&&e.beforeRoot()})).then(function(){return Promise.all([n.getDependencies("scene"),n.getDependencies("animation"),n.getDependencies("camera")])}).then(function(t){let s={scene:t[0][r.scene||0],scenes:t[0],animations:t[1],cameras:t[2],asset:r.asset,parser:n,userData:{}};return j(i,s,r),V(s,r),Promise.all(n._invokeAll(function(e){return e.afterRoot&&e.afterRoot(s)})).then(function(){e(s)})}).catch(t)}_markDefs(){let e=this.json.nodes||[],t=this.json.skins||[],n=this.json.meshes||[];for(let n=0,r=t.length;n<r;n++){let r=t[n].joints;for(let t=0,n=r.length;t<n;t++)e[r[t]].isBone=!0}for(let t=0,r=e.length;t<r;t++){let r=e[t];void 0!==r.mesh&&(this._addNodeRef(this.meshCache,r.mesh),void 0!==r.skin&&(n[r.mesh].isSkinnedMesh=!0)),void 0!==r.camera&&this._addNodeRef(this.cameraCache,r.camera)}}_addNodeRef(e,t){void 0!==t&&(void 0===e.refs[t]&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,n){if(e.refs[t]<=1)return n;let r=n.clone(),i=(e,t)=>{let n=this.associations.get(e);for(let[r,s]of(null!=n&&this.associations.set(t,n),e.children.entries()))i(s,t.children[r])};return i(n,r),r.name+="_instance_"+e.uses[t]++,r}_invokeOne(e){let t=Object.values(this.plugins);t.push(this);for(let n=0;n<t.length;n++){let r=e(t[n]);if(r)return r}return null}_invokeAll(e){let t=Object.values(this.plugins);t.unshift(this);let n=[];for(let r=0;r<t.length;r++){let i=e(t[r]);i&&n.push(i)}return n}getDependency(e,t){let n=e+":"+t,r=this.cache.get(n);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this._invokeOne(function(e){return e.loadNode&&e.loadNode(t)});break;case"mesh":r=this._invokeOne(function(e){return e.loadMesh&&e.loadMesh(t)});break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne(function(e){return e.loadBufferView&&e.loadBufferView(t)});break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne(function(e){return e.loadMaterial&&e.loadMaterial(t)});break;case"texture":r=this._invokeOne(function(e){return e.loadTexture&&e.loadTexture(t)});break;case"skin":r=this.loadSkin(t);break;case"animation":r=this._invokeOne(function(e){return e.loadAnimation&&e.loadAnimation(t)});break;case"camera":r=this.loadCamera(t);break;default:if(!(r=this._invokeOne(function(n){return n!=this&&n.getDependency&&n.getDependency(e,t)})))throw Error("Unknown type: "+e)}this.cache.add(n,r)}return r}getDependencies(e){let t=this.cache.get(e);if(!t){let n=this;t=Promise.all((this.json[e+("mesh"===e?"es":"s")]||[]).map(function(t,r){return n.getDependency(e,r)})),this.cache.add(e,t)}return t}loadBuffer(e){let t=this.json.buffers[e],n=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[a.KHR_BINARY_GLTF].body);let i=this.options;return new Promise(function(e,s){n.load(r.Zp0.resolveURL(t.uri,i.path),e,void 0,function(){s(Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){let t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(e){let n=t.byteLength||0,r=t.byteOffset||0;return e.slice(r,r+n)})}loadAccessor(e){let t=this,n=this.json,i=this.json.accessors[e];if(void 0===i.bufferView&&void 0===i.sparse){let e=B[i.type],t=C[i.componentType],n=!0===i.normalized,s=new t(i.count*e);return Promise.resolve(new r.TlE(s,e,n))}let s=[];return void 0!==i.bufferView?s.push(this.getDependency("bufferView",i.bufferView)):s.push(null),void 0!==i.sparse&&(s.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(s).then(function(e){let s,o;let a=e[0],u=B[i.type],l=C[i.componentType],c=l.BYTES_PER_ELEMENT,d=c*u,h=i.byteOffset||0,p=void 0!==i.bufferView?n.bufferViews[i.bufferView].byteStride:void 0,f=!0===i.normalized;if(p&&p!==d){let e=Math.floor(h/p),n="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+e+":"+i.count,d=t.cache.get(n);d||(s=new l(a,e*p,i.count*p/c),d=new r.vpT(s,p/c),t.cache.add(n,d)),o=new r.kB5(d,u,h%p/c,f)}else s=null===a?new l(i.count*u):new l(a,h,i.count*u),o=new r.TlE(s,u,f);if(void 0!==i.sparse){let t=B.SCALAR,n=C[i.sparse.indices.componentType],s=i.sparse.indices.byteOffset||0,c=i.sparse.values.byteOffset||0,d=new n(e[1],s,i.sparse.count*t),h=new l(e[2],c,i.sparse.count*u);null!==a&&(o=new r.TlE(o.array.slice(),o.itemSize,o.normalized));for(let e=0,t=d.length;e<t;e++){let t=d[e];if(o.setX(t,h[e*u]),u>=2&&o.setY(t,h[e*u+1]),u>=3&&o.setZ(t,h[e*u+2]),u>=4&&o.setW(t,h[e*u+3]),u>=5)throw Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return o})}loadTexture(e){let t=this.json,n=this.options,r=t.textures[e].source,i=t.images[r],s=this.textureLoader;if(i.uri){let e=n.manager.getHandler(i.uri);null!==e&&(s=e)}return this.loadTextureImage(e,r,s)}loadTextureImage(e,t,n){let i=this,s=this.json,o=s.textures[e],a=s.images[t],u=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[u])return this.textureCache[u];let l=this.loadImageSource(t,n).then(function(t){t.flipY=!1,t.name=o.name||a.name||"",""===t.name&&"string"==typeof a.uri&&!1===a.uri.startsWith("data:image/")&&(t.name=a.uri);let n=(s.samplers||{})[o.sampler]||{};return t.magFilter=H[n.magFilter]||r.wem,t.minFilter=H[n.minFilter]||r.D1R,t.wrapS=N[n.wrapS]||r.rpg,t.wrapT=N[n.wrapT]||r.rpg,i.associations.set(t,{textures:e}),t}).catch(function(){return null});return this.textureCache[u]=l,l}loadImageSource(e,t){let n=this.json,i=this.options;if(void 0!==this.sourceCache[e])return this.sourceCache[e].then(e=>e.clone());let s=n.images[e],o=self.URL||self.webkitURL,a=s.uri||"",u=!1;if(void 0!==s.bufferView)a=this.getDependency("bufferView",s.bufferView).then(function(e){u=!0;let t=new Blob([e],{type:s.mimeType});return a=o.createObjectURL(t)});else if(void 0===s.uri)throw Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");let l=Promise.resolve(a).then(function(e){return new Promise(function(n,s){let o=n;!0===t.isImageBitmapLoader&&(o=function(e){let t=new r.xEZ(e);t.needsUpdate=!0,n(t)}),t.load(r.Zp0.resolveURL(e,i.path),o,void 0,s)})}).then(function(e){var t;return!0===u&&o.revokeObjectURL(a),e.userData.mimeType=s.mimeType||((t=s.uri).search(/\.jpe?g($|\?)/i)>0||0===t.search(/^data\:image\/jpeg/)?"image/jpeg":t.search(/\.webp($|\?)/i)>0||0===t.search(/^data\:image\/webp/)?"image/webp":"image/png"),e}).catch(function(e){throw console.error("THREE.GLTFLoader: Couldn't load texture",a),e});return this.sourceCache[e]=l,l}assignTexture(e,t,n,r){let i=this;return this.getDependency("texture",n.index).then(function(s){if(!s)return null;if(void 0!==n.texCoord&&n.texCoord>0&&((s=s.clone()).channel=n.texCoord),i.extensions[a.KHR_TEXTURE_TRANSFORM]){let e=void 0!==n.extensions?n.extensions[a.KHR_TEXTURE_TRANSFORM]:void 0;if(e){let t=i.associations.get(s);s=i.extensions[a.KHR_TEXTURE_TRANSFORM].extendTexture(s,e),i.associations.set(s,t)}}return void 0!==r&&(s.colorSpace=r),e[t]=s,s})}assignFinalMaterial(e){let t=e.geometry,n=e.material,i=void 0===t.attributes.tangent,s=void 0!==t.attributes.color,o=void 0===t.attributes.normal;if(e.isPoints){let e="PointsMaterial:"+n.uuid,t=this.cache.get(e);t||(t=new r.UY4,r.F5T.prototype.copy.call(t,n),t.color.copy(n.color),t.map=n.map,t.sizeAttenuation=!1,this.cache.add(e,t)),n=t}else if(e.isLine){let e="LineBasicMaterial:"+n.uuid,t=this.cache.get(e);t||(t=new r.nls,r.F5T.prototype.copy.call(t,n),t.color.copy(n.color),t.map=n.map,this.cache.add(e,t)),n=t}if(i||s||o){let e="ClonedMaterial:"+n.uuid+":";i&&(e+="derivative-tangents:"),s&&(e+="vertex-colors:"),o&&(e+="flat-shading:");let t=this.cache.get(e);t||(t=n.clone(),s&&(t.vertexColors=!0),o&&(t.flatShading=!0),i&&(t.normalScale&&(t.normalScale.y*=-1),t.clearcoatNormalScale&&(t.clearcoatNormalScale.y*=-1)),this.cache.add(e,t),this.associations.set(t,this.associations.get(n))),n=t}e.material=n}getMaterialType(){return r.Wid}loadMaterial(e){let t;let n=this,i=this.json,s=this.extensions,o=i.materials[e],u={},l=o.extensions||{},c=[];if(l[a.KHR_MATERIALS_UNLIT]){let e=s[a.KHR_MATERIALS_UNLIT];t=e.getMaterialType(),c.push(e.extendParams(u,o,n))}else{let i=o.pbrMetallicRoughness||{};if(u.color=new r.Ilk(1,1,1),u.opacity=1,Array.isArray(i.baseColorFactor)){let e=i.baseColorFactor;u.color.setRGB(e[0],e[1],e[2],r.GUF),u.opacity=e[3]}void 0!==i.baseColorTexture&&c.push(n.assignTexture(u,"map",i.baseColorTexture,r.KI_)),u.metalness=void 0!==i.metallicFactor?i.metallicFactor:1,u.roughness=void 0!==i.roughnessFactor?i.roughnessFactor:1,void 0!==i.metallicRoughnessTexture&&(c.push(n.assignTexture(u,"metalnessMap",i.metallicRoughnessTexture)),c.push(n.assignTexture(u,"roughnessMap",i.metallicRoughnessTexture))),t=this._invokeOne(function(t){return t.getMaterialType&&t.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(t){return t.extendMaterialParams&&t.extendMaterialParams(e,u)})))}!0===o.doubleSided&&(u.side=r.ehD);let d=o.alphaMode||X.OPAQUE;if(d===X.BLEND?(u.transparent=!0,u.depthWrite=!1):(u.transparent=!1,d===X.MASK&&(u.alphaTest=void 0!==o.alphaCutoff?o.alphaCutoff:.5)),void 0!==o.normalTexture&&t!==r.vBJ&&(c.push(n.assignTexture(u,"normalMap",o.normalTexture)),u.normalScale=new r.FM8(1,1),void 0!==o.normalTexture.scale)){let e=o.normalTexture.scale;u.normalScale.set(e,e)}if(void 0!==o.occlusionTexture&&t!==r.vBJ&&(c.push(n.assignTexture(u,"aoMap",o.occlusionTexture)),void 0!==o.occlusionTexture.strength&&(u.aoMapIntensity=o.occlusionTexture.strength)),void 0!==o.emissiveFactor&&t!==r.vBJ){let e=o.emissiveFactor;u.emissive=new r.Ilk().setRGB(e[0],e[1],e[2],r.GUF)}return void 0!==o.emissiveTexture&&t!==r.vBJ&&c.push(n.assignTexture(u,"emissiveMap",o.emissiveTexture,r.KI_)),Promise.all(c).then(function(){let r=new t(u);return o.name&&(r.name=o.name),V(r,o),n.associations.set(r,{materials:e}),o.extensions&&j(s,r,o),r})}createUniqueName(e){let t=r.iUV.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){let t=this,n=this.extensions,i=this.primitiveCache,s=[];for(let o=0,u=e.length;o<u;o++){let u=e[o],l=function(e){let t;let n=e.extensions&&e.extensions[a.KHR_DRACO_MESH_COMPRESSION];if(t=n?"draco:"+n.bufferView+":"+n.indices+":"+K(n.attributes):e.indices+":"+K(e.attributes)+":"+e.mode,void 0!==e.targets)for(let n=0,r=e.targets.length;n<r;n++)t+=":"+K(e.targets[n]);return t}(u),c=i[l];if(c)s.push(c.promise);else{let e;e=u.extensions&&u.extensions[a.KHR_DRACO_MESH_COMPRESSION]?function(e){return n[a.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,t).then(function(n){return z(n,e,t)})}(u):z(new r.u9r,u,t),i[l]={primitive:u,promise:e},s.push(e)}}return Promise.all(s)}loadMesh(e){let t=this,n=this.json,s=this.extensions,o=n.meshes[e],a=o.primitives,u=[];for(let e=0,t=a.length;e<t;e++){var l;let t=void 0===a[e].material?(void 0===(l=this.cache).DefaultMaterial&&(l.DefaultMaterial=new r.Wid({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:r.Wl3})),l.DefaultMaterial):this.getDependency("material",a[e].material);u.push(t)}return u.push(t.loadGeometries(a)),Promise.all(u).then(function(n){let u=n.slice(0,n.length-1),l=n[n.length-1],c=[];for(let n=0,d=l.length;n<d;n++){let d;let h=l[n],p=a[n],f=u[n];if(p.mode===F.TRIANGLES||p.mode===F.TRIANGLE_STRIP||p.mode===F.TRIANGLE_FAN||void 0===p.mode)!0===(d=!0===o.isSkinnedMesh?new r.TUv(h,f):new r.Kj0(h,f)).isSkinnedMesh&&d.normalizeSkinWeights(),p.mode===F.TRIANGLE_STRIP?d.geometry=i(d.geometry,r.UlW):p.mode===F.TRIANGLE_FAN&&(d.geometry=i(d.geometry,r.z$h));else if(p.mode===F.LINES)d=new r.ejS(h,f);else if(p.mode===F.LINE_STRIP)d=new r.x12(h,f);else if(p.mode===F.LINE_LOOP)d=new r.blk(h,f);else if(p.mode===F.POINTS)d=new r.woe(h,f);else throw Error("THREE.GLTFLoader: Primitive mode unsupported: "+p.mode);Object.keys(d.geometry.morphAttributes).length>0&&function(e,t){if(e.updateMorphTargets(),void 0!==t.weights)for(let n=0,r=t.weights.length;n<r;n++)e.morphTargetInfluences[n]=t.weights[n];if(t.extras&&Array.isArray(t.extras.targetNames)){let n=t.extras.targetNames;if(e.morphTargetInfluences.length===n.length){e.morphTargetDictionary={};for(let t=0,r=n.length;t<r;t++)e.morphTargetDictionary[n[t]]=t}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}(d,o),d.name=t.createUniqueName(o.name||"mesh_"+e),V(d,o),p.extensions&&j(s,d,p),t.assignFinalMaterial(d),c.push(d)}for(let n=0,r=c.length;n<r;n++)t.associations.set(c[n],{meshes:e,primitives:n});if(1===c.length)return o.extensions&&j(s,c[0],o),c[0];let d=new r.ZAu;o.extensions&&j(s,d,o),t.associations.set(d,{meshes:e});for(let e=0,t=c.length;e<t;e++)d.add(c[e]);return d})}loadCamera(e){let t;let n=this.json.cameras[e],i=n[n.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return"perspective"===n.type?t=new r.cPb(r.M8C.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):"orthographic"===n.type&&(t=new r.iKG(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),n.name&&(t.name=this.createUniqueName(n.name)),V(t,n),Promise.resolve(t)}loadSkin(e){let t=this.json.skins[e],n=[];for(let e=0,r=t.joints.length;e<r;e++)n.push(this._loadNodeShallow(t.joints[e]));return void 0!==t.inverseBindMatrices?n.push(this.getDependency("accessor",t.inverseBindMatrices)):n.push(null),Promise.all(n).then(function(e){let n=e.pop(),i=[],s=[];for(let o=0,a=e.length;o<a;o++){let a=e[o];if(a){i.push(a);let e=new r.yGw;null!==n&&e.fromArray(n.array,16*o),s.push(e)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[o])}return new r.OdW(i,s)})}loadAnimation(e){let t=this.json,n=this,i=t.animations[e],s=i.name?i.name:"animation_"+e,o=[],a=[],u=[],l=[],c=[];for(let e=0,t=i.channels.length;e<t;e++){let t=i.channels[e],n=i.samplers[t.sampler],r=t.target,s=r.node,d=void 0!==i.parameters?i.parameters[n.input]:n.input,h=void 0!==i.parameters?i.parameters[n.output]:n.output;void 0!==r.node&&(o.push(this.getDependency("node",s)),a.push(this.getDependency("accessor",d)),u.push(this.getDependency("accessor",h)),l.push(n),c.push(r))}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(u),Promise.all(l),Promise.all(c)]).then(function(e){let t=e[0],i=e[1],o=e[2],a=e[3],u=e[4],l=[];for(let e=0,r=t.length;e<r;e++){let r=t[e],s=i[e],c=o[e],d=a[e],h=u[e];if(void 0===r)continue;r.updateMatrix&&r.updateMatrix();let p=n._createAnimationTracks(r,s,c,d,h);if(p)for(let e=0;e<p.length;e++)l.push(p[e])}return new r.m7l(s,void 0,l)})}createNodeMesh(e){let t=this.json,n=this,r=t.nodes[e];return void 0===r.mesh?null:n.getDependency("mesh",r.mesh).then(function(e){let t=n._getNodeRef(n.meshCache,r.mesh,e);return void 0!==r.weights&&t.traverse(function(e){if(e.isMesh)for(let t=0,n=r.weights.length;t<n;t++)e.morphTargetInfluences[t]=r.weights[t]}),t})}loadNode(e){let t=this.json.nodes[e],n=this._loadNodeShallow(e),r=[],i=t.children||[];for(let e=0,t=i.length;e<t;e++)r.push(this.getDependency("node",i[e]));let s=void 0===t.skin?Promise.resolve(null):this.getDependency("skin",t.skin);return Promise.all([n,Promise.all(r),s]).then(function(e){let t=e[0],n=e[1],r=e[2];null!==r&&t.traverse(function(e){e.isSkinnedMesh&&e.bind(r,Y)});for(let e=0,r=n.length;e<r;e++)t.add(n[e]);return t})}_loadNodeShallow(e){let t=this.json,n=this.extensions,i=this;if(void 0!==this.nodeCache[e])return this.nodeCache[e];let s=t.nodes[e],o=s.name?i.createUniqueName(s.name):"",a=[],u=i._invokeOne(function(t){return t.createNodeMesh&&t.createNodeMesh(e)});return u&&a.push(u),void 0!==s.camera&&a.push(i.getDependency("camera",s.camera).then(function(e){return i._getNodeRef(i.cameraCache,s.camera,e)})),i._invokeAll(function(t){return t.createNodeAttachment&&t.createNodeAttachment(e)}).forEach(function(e){a.push(e)}),this.nodeCache[e]=Promise.all(a).then(function(t){let a;if((a=!0===s.isBone?new r.N$j:t.length>1?new r.ZAu:1===t.length?t[0]:new r.Tme)!==t[0])for(let e=0,n=t.length;e<n;e++)a.add(t[e]);if(s.name&&(a.userData.name=s.name,a.name=o),V(a,s),s.extensions&&j(n,a,s),void 0!==s.matrix){let e=new r.yGw;e.fromArray(s.matrix),a.applyMatrix4(e)}else void 0!==s.translation&&a.position.fromArray(s.translation),void 0!==s.rotation&&a.quaternion.fromArray(s.rotation),void 0!==s.scale&&a.scale.fromArray(s.scale);return i.associations.has(a)||i.associations.set(a,{}),i.associations.get(a).nodes=e,a}),this.nodeCache[e]}loadScene(e){let t=this.extensions,n=this.json.scenes[e],i=this,s=new r.ZAu;n.name&&(s.name=i.createUniqueName(n.name)),V(s,n),n.extensions&&j(t,s,n);let o=n.nodes||[],a=[];for(let e=0,t=o.length;e<t;e++)a.push(i.getDependency("node",o[e]));return Promise.all(a).then(function(e){for(let t=0,n=e.length;t<n;t++)s.add(e[t]);return i.associations=(e=>{let t=new Map;for(let[e,n]of i.associations)(e instanceof r.F5T||e instanceof r.xEZ)&&t.set(e,n);return e.traverse(e=>{let n=i.associations.get(e);null!=n&&t.set(e,n)}),t})(s),s})}_createAnimationTracks(e,t,n,i,s){let o;let a=[],u=e.name?e.name:e.uuid,l=[];switch(G[s.path]===G.weights?e.traverse(function(e){e.morphTargetInfluences&&l.push(e.name?e.name:e.uuid)}):l.push(u),G[s.path]){case G.weights:o=r.dUE;break;case G.rotation:o=r.iLg;break;case G.position:case G.scale:o=r.yC1;break;default:o=1===n.itemSize?r.dUE:r.yC1}let c=void 0!==i.interpolation?U[i.interpolation]:r.NMF,d=this._getArrayFromAccessor(n);for(let e=0,n=l.length;e<n;e++){let n=new o(l[e]+"."+G[s.path],t.array,d,c);"CUBICSPLINE"===i.interpolation&&this._createCubicSplineTrackInterpolant(n),a.push(n)}return a}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){let e=q(t.constructor),n=new Float32Array(t.length);for(let r=0,i=t.length;r<i;r++)n[r]=t[r]*e;t=n}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(e){return new(this instanceof r.iLg?k:P)(this.times,this.values,this.getValueSize()/3,e)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function z(e,t,n){let i=t.attributes,s=[];for(let t in i){let r=D[t]||t.toLowerCase();r in e.attributes||s.push(function(t,r){return n.getDependency("accessor",t).then(function(t){e.setAttribute(r,t)})}(i[t],r))}if(void 0!==t.indices&&!e.index){let r=n.getDependency("accessor",t.indices).then(function(t){e.setIndex(t)});s.push(r)}return r.epp.workingColorSpace!==r.GUF&&"COLOR_0"in i&&console.warn(`THREE.GLTFLoader: Converting vertex colors from "srgb-linear" to "${r.epp.workingColorSpace}" not supported.`),V(e,t),!function(e,t,n){let i=t.attributes,s=new r.ZzF;if(void 0===i.POSITION)return;{let e=n.json.accessors[i.POSITION],t=e.min,o=e.max;if(void 0!==t&&void 0!==o){if(s.set(new r.Pa4(t[0],t[1],t[2]),new r.Pa4(o[0],o[1],o[2])),e.normalized){let t=q(C[e.componentType]);s.min.multiplyScalar(t),s.max.multiplyScalar(t)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}let o=t.targets;if(void 0!==o){let e=new r.Pa4,t=new r.Pa4;for(let r=0,i=o.length;r<i;r++){let i=o[r];if(void 0!==i.POSITION){let r=n.json.accessors[i.POSITION],s=r.min,o=r.max;if(void 0!==s&&void 0!==o){if(t.setX(Math.max(Math.abs(s[0]),Math.abs(o[0]))),t.setY(Math.max(Math.abs(s[1]),Math.abs(o[1]))),t.setZ(Math.max(Math.abs(s[2]),Math.abs(o[2]))),r.normalized){let e=q(C[r.componentType]);t.multiplyScalar(e)}e.max(t)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}s.expandByVector(e)}e.boundingBox=s;let a=new r.aLr;s.getCenter(a.center),a.radius=s.min.distanceTo(s.max)/2,e.boundingSphere=a}(e,t,n),Promise.all(s).then(function(){return void 0!==t.targets?function(e,t,n){let r=!1,i=!1,s=!1;for(let e=0,n=t.length;e<n;e++){let n=t[e];if(void 0!==n.POSITION&&(r=!0),void 0!==n.NORMAL&&(i=!0),void 0!==n.COLOR_0&&(s=!0),r&&i&&s)break}if(!r&&!i&&!s)return Promise.resolve(e);let o=[],a=[],u=[];for(let l=0,c=t.length;l<c;l++){let c=t[l];if(r){let t=void 0!==c.POSITION?n.getDependency("accessor",c.POSITION):e.attributes.position;o.push(t)}if(i){let t=void 0!==c.NORMAL?n.getDependency("accessor",c.NORMAL):e.attributes.normal;a.push(t)}if(s){let t=void 0!==c.COLOR_0?n.getDependency("accessor",c.COLOR_0):e.attributes.color;u.push(t)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(u)]).then(function(t){let n=t[0],o=t[1],a=t[2];return r&&(e.morphAttributes.position=n),i&&(e.morphAttributes.normal=o),s&&(e.morphAttributes.color=a),e.morphTargetsRelative=!0,e})}(e,t.targets,n):e})}}}]);